"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[31869],{489415:function(e,n,r){r.r(n),r.d(n,{addAddress:function(){return E},addSecondaryNo:function(){return F},additionalInformation:function(){return T},addressSuccessfullyAdded:function(){return x},addressSuccessfullyUpdate:function(){return L},btwStreetsInfo:function(){return R},deliveryAddCountryCode:function(){return S},deliveryAddMainPhnNo:function(){return N},deliveryAddSecondaryMsg:function(){return P},deliveryAddSecondaryNo:function(){return h},deliveryAddressesCity:function(){return d},deliveryAddressesColony:function(){return c},deliveryAddressesErrorMsg:function(){return A},deliveryAddressesExtCode:function(){return V},deliveryAddressesPhnMsg:function(){return y},deliveryAddressesPhnNo:function(){return p},deliveryAddressesState:function(){return u},deliveryAddressesZipCode:function(){return i},exteriorNo:function(){return o},failedAddressError:function(){return O},firstName:function(){return t},interiorNo:function(){return s},landlineRadioButton:function(){return C},landmarkInfo:function(){return _},lastName:function(){return l},loading:function(){return k},mobileRadioButton:function(){return b},municipalityField:function(){return m},phoneNumber:function(){return M},preferredAddress:function(){return f},primaryDuplicateError:function(){return j},removeSecondaryNo:function(){return I},requiredFields:function(){return a},secondaryDuplicateError:function(){return D},selectLocation:function(){return g},storeInformation:function(){return v},thresholdDistError:function(){return U},useThisAddress:function(){return w}});const a=()=>"Required fields",t=()=>"First name",l=()=>"Last name",o=()=>"Exterior Number",s=()=>"Interior Number",i=()=>"Zip Code",c=()=>"Colony",d=()=>"City",u=()=>"State",m=()=>"Municipality",p=()=>"Phone number",y=()=>"We'll contact you in case anything comes up with your order.",f=()=>"Set as my preferred delivery address",g=()=>"Select exact location",w=()=>"Use this address",A=()=>"Something went wrong. Please try again.",v=()=>"If you leave before placing your order, we'll store you information for 72 hours, in case you want to complete your order later.",x=()=>"Your address was successfully added.",L=()=>"Your address was successfully updated",E=()=>"addAddress",S=()=>"Country code",b=()=>"Mobile",C=()=>"Landline",h=()=>"Secondary number",F=()=>"Add secondary number",I=()=>"Remove secondary number",V=()=>"Ext",M=()=>"Phone Number",P=()=>"(Landline can be added as secondary phone number only)",N=()=>"Main phone number",T=()=>"Additional information",R=()=>"Between Streets",_=()=>"References",j=()=>"You cannot have same primary and secondary number.",D=()=>"This is already your primary number. Please use a different number.",O=()=>"Failed to save your address, please try again after sometime.",U=()=>"This location is too far from the address entered. Please select the correct location.",k=()=>"Loading..."},509844:function(e,n,r){r.r(n),r.d(n,{continueText:function(){return a},errorMessage:function(){return t},errorTitle:function(){return l},information:function(){return o},loading:function(){return s},saveAndContinue:function(){return i}});const a=()=>"Continue",t=()=>"We\u2019re working on fixing it. Please try again later or choose a different return method.",l=()=>"Sorry! We\u2019re having a technical issue",o=()=>"Information",s=()=>"Loading",i=()=>"Save and continue"},658675:function(e,n,r){r.d(n,{X:function(){return s}});var a=r(390239),t=r(579960),l=r(590723),o=r(544585);const s=e=>{const n=(0,t.n)(),r={isGuest:!!(0,l.Dv)(),fulfillmentDeliveryAddress:(0,l.Co)().deliveryAddress,onValidationError:()=>n("validation"),isDefaultStore:(0,l.Co)().isDefaultStore};return(0,a.jsx)(o.f,{...e,...r})}},208596:function(e,n,r){r.d(n,{Q:function(){return s},s:function(){return o}});var a=r(390239),t=r(595365),l=r(235077);const o=(0,r(156055).createContext)({context:"",name:""}),s=e=>{let{action:n="pageView",children:r,context:s,name:i,payload:c}=e;const d={context:s,name:i};return(0,a.jsx)(l.tp,{context:s,action:n,name:i,payload:{nm:{nm:i},...c},children:(0,a.jsx)(o.Provider,{value:d,children:(0,a.jsx)(t.ZP,{name:i,moduleContext:s,moduleLinkExtras:{ta:{pt:i}},shouldSuppressModuleView:!0,children:r})})})}},579960:function(e,n,r){r.d(n,{I:function(){return s},n:function(){return o}});var a=r(235077),t=r(156055),l=r(208596);const o=()=>{const e=(0,t.useContext)(l.s),n=(0,a.wG)();return r=>{n({context:e.context,action:"error",name:r,payload:{ta:{pt:e.name},nm:{nm:r},co:{nm:"addDeliveryAddress"}}})}},s=()=>{const e=(0,t.useContext)(l.s),n=(0,a.wG)();return r=>{n({context:e.context,action:"onLink",name:r,payload:{ta:{pt:e.name},nm:{nm:r}}})}}},152750:function(e,n,r){r.d(n,{F:function(){return s},WL:function(){return o},af:function(){return i},uC:function(){return c},uG:function(){return l}});var a=r(575115),t=r(180543);const l={firstName:"first name",lastName:"last name",addressLineOne:"street address",addressLineTwo:"apt or unit",city:"city",state:"state",postalCode:(0,a.m)(t,"zipCode"),phone:"phone number",deliveryInstructions:"delivery instructions"},o={id:"",firstName:"",lastName:"",addressLineOne:"",addressLineTwo:"",addressLineThree:"",city:"",state:"",postalCode:"",serviceStatus:"NO_GLASS_SERVICE",phone:"",countryCallingCode:"",deliveryInstructions:"",isDefault:!1,capabilities:["NO_GLASS_SERVICE"],allowEditOrRemove:!0,colony:"",municipality:"",secondaryPhoneType:"",secondaryPhone:"",secondaryPhoneExtension:"",inHomeDeliveryInstructions:"",deliveryInstructionsList:[],guidedDeliveryInstruction:""},s={MAX_LENGTH:50,ERROR_MESSAGE:"Enter fewer than 50 characters."},i={addressLineOne:"",addressLineTwo:"",addressLineThree:"",city:"",state:"",postalCode:"",phone:"",colony:"",municipality:"",countryCallingCode:""},c={id:"",firstName:"",lastName:"",email:"",middleName:"",rfc:"",cfdi:"",digitalFiscalReceptor:"",isDefault:!1,addressType:"INDIVIDUAL",ieps:""}},120362:function(e,n,r){r.d(n,{yN:function(){return s},ZK:function(){return o},vM:function(){return d},lj:function(){return i},D2:function(){return c}});var a=r(965396);const t={type:"query",name:"nodeDetail",query:"query nodeDetail($input:NodeIdInput!){nodeDetail(input:$input){weeklyReservationCapability{supportsWeeklyReservation}}}",hash:"2c69f8b1a239ceb2c8e8e535667211db96a244c9de3a61e863dad4d32737752d"},l="Something went wrong. Please try again.",o=(e,n)=>({queryKey:["get-addresses",n.responseGroup||"basic"],queryFn:()=>{let r;return r="riseAddress"===n.responseGroup?a.jO:"storeDeliverable"===n.responseGroup?a.OM:a.ej,e.getGqlFetch("cegateway")(r,n).then(e=>{var n;return(null===(n=e.data)||void 0===n?void 0:n.deliveryAddresses)?{addresses:e.data.deliveryAddresses.map(e=>({...e,addressLineTwo:e.addressLineTwo||"",addressLineThree:e.addressLineThree||"",firstName:e.firstName||"",lastName:e.lastName||"",phone:e.phone||"",countryCallingCode:e.countryCallingCode||"",secondaryPhone:e.secondaryPhone||"",secondaryPhoneExtension:e.secondaryPhoneExtension||"",secondaryPhoneType:e.secondaryPhoneType||"",streetInformation:e.streetInformation||"",landmark:e.landmark||"",deliveryInstructions:e.deliveryInstructions||"",serviceStatus:e.serviceStatus||"NO_GLASS_SERVICE",accessPoint:e.accessPoint?{...e.accessPoint,storeId:e.accessPoint.assortmentStoreId}:void 0,capabilities:e.capabilities,allowEditOrRemove:e.allowEditOrRemove,latitude:e.latitude||void 0,longitude:e.longitude||void 0,extendedPostalCode:e.extendedPostalCode||void 0,colony:e.colony||"",municipality:e.municipality||""}))}:Promise.reject({message:l})}).catch(()=>Promise.reject({message:l}))}}),s=(e,n)=>{let{variables:r}=n;return{queryKey:["deliverable-address",r],queryFn:()=>e.getGqlFetch("cecxo")(a.UI,r)}},i=e=>({queryKey:["pickup-store-location"],queryFn:()=>e.getGqlFetch("cegateway")(a.qF)}),c=(e,n)=>{let{variables:r}=n;return{queryKey:["weekly-reservation-eligibility",r],queryFn:()=>e.getGqlFetch("cecxo")(t,r)}},d=e=>({queryKey:["get-invoice-addresses"],queryFn:()=>{const n=a.ZN;return e.getGqlFetch("cegateway")(n).then(e=>{var n;return(null===(n=e.data)||void 0===n?void 0:n.invoiceAddress)?{addresses:e.data.invoiceAddress.map(e=>({...e,addressLineTwo:e.addressLineTwo||"",addressLineThree:e.addressLineThree||"",middleName:e.middleName||"",lastName:e.lastName||"",phone:e.phone||"",countryCallingCode:e.countryCallingCode||"",colony:e.colony||"",municipality:e.municipality||"",rfc:e.rfc||"",ieps:e.ieps||"",digitalFiscalReceptor:e.digitalFiscalReceptor||"",addressType:e.addressType||"INDIVIDUAL"}))}:Promise.reject(new Error(l))}).catch(()=>Promise.reject(new Error(l)))}})},965396:function(e,n,r){r.d(n,{Em:function(){return A},Hz:function(){return m},J2:function(){return p},OM:function(){return l},UI:function(){return o},ZN:function(){return v},bO:function(){return w},ej:function(){return t},i5:function(){return f},jO:function(){return s},kb:function(){return i},mV:function(){return c},qF:function(){return g},s4:function(){return y},sG:function(){return u},zp:function(){return d}});const a="\n  fragment AddressMutationResponse on MutateAccountAddressResponse {\n    errors {\n      code\n    }\n    enteredAddress {\n      ...BasicAddress\n    }\n    suggestedAddresses {\n      ...BasicAddress\n      sealedAddress\n    }\n    newAddress {\n      id\n      ...BaseAddressResponse\n    }\n    allowAvsOverride\n  }\n  ".concat("\n  fragment BasicAddress on AccountAddressBase {\n    addressLineOne\n    addressLineTwo\n    city\n    state\n    postalCode\n  }\n  fragment BaseAddressResponse on AccountAddress {\n    ...BasicAddress\n    id\n    firstName\n    lastName\n    phone\n    isDefault\n    deliveryInstructions\n    serviceStatus\n    capabilities\n    allowEditOrRemove\n    latitude\n    longitude\n    extendedPostalCode\n    addressLineThree\n    colony\n    municipality\n    deliveryInstructionsList {\n      deliveryInstructionType\n      deliveryInstruction\n      accessCode\n      dropOffLocation\n      deliveryInstructionsAddressType\n    }\n    pinLat\n    pinLong\n    recommendedPinLatLongSource\n    isPinLatLongInvalid\n    countryCallingCode @include(if: $fetchMXFields)\n    secondaryPhone @include(if: $fetchMXFields)\n    secondaryPhoneExtension @include(if: $fetchMXFields)\n    secondaryPhoneType @include(if: $fetchMXFields)\n    streetInformation @include(if: $fetchMXFields)\n    landmark @include(if: $fetchMXFields)\n    isSubscribed @include(if: $fetchCAFields)\n  }\n","\n"),t=("\n  fragment InvoiceAddressMutationResponse on MutateInvoiceAddressResponse {\n    errors {\n      code\n    }\n    enteredAddress {\n      addressLineOne\n      addressLineTwo\n      addressLineThree\n      city\n      state\n      postalCode\n      digitalFiscalReceptor\n      addressType\n      rfc\n      cfdi\n      ieps\n    }\n    newAddress {\n      ...InvoiceAddressResponse\n    }\n  }\n  ".concat("\n  fragment InvoiceAddressResponse on InvoiceAddress {\n    id\n    firstName\n    lastName\n    middleName\n    rfc\n    cfdi\n    ieps\n    email\n    phone\n    isDefault\n    colony\n    municipality\n    addressLineOne\n    addressLineTwo\n    addressLineThree\n    city\n    state\n    postalCode\n    countryCallingCode\n    digitalFiscalReceptor\n    addressType\n  }\n","\n"),"\n  fragment DeliveryAddressMutationResponse on MutateAccountAddressResponse {\n    ...AddressMutationResponse\n    newAddress {\n      id\n      accessPoint {\n        ...AccessPoint\n      }\n      ...BaseAddressResponse\n    }\n  }\n  ".concat("\n  fragment AccessPoint on AccessPointRovr {\n    id\n    assortmentStoreId\n    fulfillmentType\n    accountFulfillmentOption\n    accountAccessType\n  }\n","\n  ").concat(a,"\n"),{type:"query",name:"GetAddresses",query:"query GetAddresses( $input:DeliveryAddressOptionInput $fetchMXFields:Boolean! = false $fetchCAFields:Boolean! = false ){deliveryAddresses(input:$input){id...BaseAddressResponse...RegistryAddressResponse}}fragment BasicAddress on AccountAddressBase{addressLineOne addressLineTwo city state postalCode}fragment BaseAddressResponse on AccountAddress{...BasicAddress id firstName lastName phone isDefault deliveryInstructions serviceStatus capabilities allowEditOrRemove latitude longitude extendedPostalCode addressLineThree colony municipality deliveryInstructionsList{deliveryInstructionType deliveryInstruction accessCode dropOffLocation deliveryInstructionsAddressType}pinLat pinLong recommendedPinLatLongSource isPinLatLongInvalid countryCallingCode @include(if:$fetchMXFields) secondaryPhone @include(if:$fetchMXFields) secondaryPhoneExtension @include(if:$fetchMXFields) secondaryPhoneType @include(if:$fetchMXFields) streetInformation @include(if:$fetchMXFields) landmark @include(if:$fetchMXFields) isSubscribed @include(if:$fetchCAFields)}fragment RegistryAddressResponse on AccountAddress{registry{id type}addressTitle}",hash:"dbcb74ffa6e27597096de76e12f94f7506dc0af26d843aa0996ccd0611351e6e"}),l={type:"query",name:"DeliveryAddresses",query:"query DeliveryAddresses( $DeliveryAddressOptionInput:DeliveryAddressOptionInput $fetchWeeklyReservationDetails:Boolean! = false $fetchMXFields:Boolean! = false $fetchCAFields:Boolean! = false ){deliveryAddresses(input:$DeliveryAddressOptionInput){accessPoint{...AccessPoint}id...BaseAddressResponse...RegistryAddressResponse weeklyReservationDetails @include(if:$fetchWeeklyReservationDetails){slot{startTime displayValueStartTime}id}}}fragment BasicAddress on AccountAddressBase{addressLineOne addressLineTwo city state postalCode}fragment BaseAddressResponse on AccountAddress{...BasicAddress id firstName lastName phone isDefault deliveryInstructions serviceStatus capabilities allowEditOrRemove latitude longitude extendedPostalCode addressLineThree colony municipality deliveryInstructionsList{deliveryInstructionType deliveryInstruction accessCode dropOffLocation deliveryInstructionsAddressType}pinLat pinLong recommendedPinLatLongSource isPinLatLongInvalid countryCallingCode @include(if:$fetchMXFields) secondaryPhone @include(if:$fetchMXFields) secondaryPhoneExtension @include(if:$fetchMXFields) secondaryPhoneType @include(if:$fetchMXFields) streetInformation @include(if:$fetchMXFields) landmark @include(if:$fetchMXFields) isSubscribed @include(if:$fetchCAFields)}fragment AccessPoint on AccessPointRovr{id assortmentStoreId fulfillmentType accountFulfillmentOption accountAccessType}fragment RegistryAddressResponse on AccountAddress{registry{id type}addressTitle}",hash:"8f174584a932b02a9ec6d59097135a84a8abd6b9ec70a689e492700e1590253e"},o={type:"query",name:"deliverableAddress",query:"query deliverableAddress{deliverableAddress{available}}",hash:"be7fc0720309877193326262d9581ee8719c5059226f9fdd48dc7d0e7f65d40c"},s={type:"query",name:"GetRiseDeliveryAddresses",query:"query GetRiseDeliveryAddresses( $DeliveryAddressOptionInput:DeliveryAddressOptionInput $fetchMXFields:Boolean! = false $fetchCAFields:Boolean! = false ){deliveryAddresses(input:$DeliveryAddressOptionInput){accessPoint{...AccessPoint}id sealedAddress...BaseAddressResponse}}fragment BasicAddress on AccountAddressBase{addressLineOne addressLineTwo city state postalCode}fragment BaseAddressResponse on AccountAddress{...BasicAddress id firstName lastName phone isDefault deliveryInstructions serviceStatus capabilities allowEditOrRemove latitude longitude extendedPostalCode addressLineThree colony municipality deliveryInstructionsList{deliveryInstructionType deliveryInstruction accessCode dropOffLocation deliveryInstructionsAddressType}pinLat pinLong recommendedPinLatLongSource isPinLatLongInvalid countryCallingCode @include(if:$fetchMXFields) secondaryPhone @include(if:$fetchMXFields) secondaryPhoneExtension @include(if:$fetchMXFields) secondaryPhoneType @include(if:$fetchMXFields) streetInformation @include(if:$fetchMXFields) landmark @include(if:$fetchMXFields) isSubscribed @include(if:$fetchCAFields)}fragment AccessPoint on AccessPointRovr{id assortmentStoreId fulfillmentType accountFulfillmentOption accountAccessType}",hash:"74e32ecb806e20a7af224a64537531704b9efc6ff45e17223cc4567deccf306a"},i={type:"mutation",name:"CreateAddress",query:"mutation CreateAddress( $input:AccountAddressesInput! $fetchMXFields:Boolean! = false $fetchCAFields:Boolean! = false ){createAccountAddress(input:$input){...AddressMutationResponse}}fragment AddressMutationResponse on MutateAccountAddressResponse{errors{code}enteredAddress{...BasicAddress}suggestedAddresses{...BasicAddress sealedAddress}newAddress{id...BaseAddressResponse}allowAvsOverride}fragment BasicAddress on AccountAddressBase{addressLineOne addressLineTwo city state postalCode}fragment BaseAddressResponse on AccountAddress{...BasicAddress id firstName lastName phone isDefault deliveryInstructions serviceStatus capabilities allowEditOrRemove latitude longitude extendedPostalCode addressLineThree colony municipality deliveryInstructionsList{deliveryInstructionType deliveryInstruction accessCode dropOffLocation deliveryInstructionsAddressType}pinLat pinLong recommendedPinLatLongSource isPinLatLongInvalid countryCallingCode @include(if:$fetchMXFields) secondaryPhone @include(if:$fetchMXFields) secondaryPhoneExtension @include(if:$fetchMXFields) secondaryPhoneType @include(if:$fetchMXFields) streetInformation @include(if:$fetchMXFields) landmark @include(if:$fetchMXFields) isSubscribed @include(if:$fetchCAFields)}",hash:"fff243e3d0f14517e10fb0b777c8c07f688b8735160d408532e570aaf822b8da"},c={type:"mutation",name:"CreateDeliveryAddress",query:"mutation CreateDeliveryAddress( $input:AccountAddressesInput! $fetchMXFields:Boolean! = false $fetchCAFields:Boolean! = false ){createAccountAddress(input:$input){...DeliveryAddressMutationResponse}}fragment DeliveryAddressMutationResponse on MutateAccountAddressResponse{...AddressMutationResponse newAddress{id accessPoint{...AccessPoint}...BaseAddressResponse}}fragment AccessPoint on AccessPointRovr{id assortmentStoreId fulfillmentType accountFulfillmentOption accountAccessType}fragment AddressMutationResponse on MutateAccountAddressResponse{errors{code}enteredAddress{...BasicAddress}suggestedAddresses{...BasicAddress sealedAddress}newAddress{id...BaseAddressResponse}allowAvsOverride}fragment BasicAddress on AccountAddressBase{addressLineOne addressLineTwo city state postalCode}fragment BaseAddressResponse on AccountAddress{...BasicAddress id firstName lastName phone isDefault deliveryInstructions serviceStatus capabilities allowEditOrRemove latitude longitude extendedPostalCode addressLineThree colony municipality deliveryInstructionsList{deliveryInstructionType deliveryInstruction accessCode dropOffLocation deliveryInstructionsAddressType}pinLat pinLong recommendedPinLatLongSource isPinLatLongInvalid countryCallingCode @include(if:$fetchMXFields) secondaryPhone @include(if:$fetchMXFields) secondaryPhoneExtension @include(if:$fetchMXFields) secondaryPhoneType @include(if:$fetchMXFields) streetInformation @include(if:$fetchMXFields) landmark @include(if:$fetchMXFields) isSubscribed @include(if:$fetchCAFields)}",hash:"496634c87424ea96231c9e584012d18ff4bf2c0834118b080bd8d6f45cee7056"},d={type:"mutation",name:"createInvoiceAddress",query:"mutation createInvoiceAddress($input:InvoiceAddressInput!){createInvoiceAddress(input:$input){...InvoiceAddressMutationResponse}}fragment InvoiceAddressMutationResponse on MutateInvoiceAddressResponse{errors{code}enteredAddress{addressLineOne addressLineTwo addressLineThree city state postalCode digitalFiscalReceptor addressType rfc cfdi ieps}newAddress{...InvoiceAddressResponse}}fragment InvoiceAddressResponse on InvoiceAddress{id firstName lastName middleName rfc cfdi ieps email phone isDefault colony municipality addressLineOne addressLineTwo addressLineThree city state postalCode countryCallingCode digitalFiscalReceptor addressType}",hash:"b596318cf21c8718744be0c8093ec9cbcdd33c365cd9320ba32c4ee9bec79f93"},u={type:"mutation",name:"updateInvoiceAddress",query:"mutation updateInvoiceAddress($id:ID! $input:InvoiceAddressInput!){updateInvoiceAddress(input:{id:$id address:$input}){...InvoiceAddressMutationResponse}}fragment InvoiceAddressMutationResponse on MutateInvoiceAddressResponse{errors{code}enteredAddress{addressLineOne addressLineTwo addressLineThree city state postalCode digitalFiscalReceptor addressType rfc cfdi ieps}newAddress{...InvoiceAddressResponse}}fragment InvoiceAddressResponse on InvoiceAddress{id firstName lastName middleName rfc cfdi ieps email phone isDefault colony municipality addressLineOne addressLineTwo addressLineThree city state postalCode countryCallingCode digitalFiscalReceptor addressType}",hash:"289cd67ee66d7208710a062921139a1723279ad78d23130b24c984512ecb0d98"},m={type:"mutation",name:"UpdateAddress",query:"mutation UpdateAddress( $id:ID! $input:AccountAddressesInput! $fetchMXFields:Boolean! = false $fetchCAFields:Boolean! = false ){updateAccountAddress(input:{id:$id address:$input}){...AddressMutationResponse}}fragment AddressMutationResponse on MutateAccountAddressResponse{errors{code}enteredAddress{...BasicAddress}suggestedAddresses{...BasicAddress sealedAddress}newAddress{id...BaseAddressResponse}allowAvsOverride}fragment BasicAddress on AccountAddressBase{addressLineOne addressLineTwo city state postalCode}fragment BaseAddressResponse on AccountAddress{...BasicAddress id firstName lastName phone isDefault deliveryInstructions serviceStatus capabilities allowEditOrRemove latitude longitude extendedPostalCode addressLineThree colony municipality deliveryInstructionsList{deliveryInstructionType deliveryInstruction accessCode dropOffLocation deliveryInstructionsAddressType}pinLat pinLong recommendedPinLatLongSource isPinLatLongInvalid countryCallingCode @include(if:$fetchMXFields) secondaryPhone @include(if:$fetchMXFields) secondaryPhoneExtension @include(if:$fetchMXFields) secondaryPhoneType @include(if:$fetchMXFields) streetInformation @include(if:$fetchMXFields) landmark @include(if:$fetchMXFields) isSubscribed @include(if:$fetchCAFields)}",hash:"c5bfe25ae658b69a3ded0b997e4a955d0da6c4828db524d8c1cf880920c70568"},p={type:"mutation",name:"UpdateDeliveryAddress",query:"mutation UpdateDeliveryAddress( $id:ID! $input:AccountAddressesInput! $fetchMXFields:Boolean! = false $fetchCAFields:Boolean! = false ){updateAccountAddress(input:{id:$id address:$input}){...DeliveryAddressMutationResponse}}fragment DeliveryAddressMutationResponse on MutateAccountAddressResponse{...AddressMutationResponse newAddress{id accessPoint{...AccessPoint}...BaseAddressResponse}}fragment AccessPoint on AccessPointRovr{id assortmentStoreId fulfillmentType accountFulfillmentOption accountAccessType}fragment AddressMutationResponse on MutateAccountAddressResponse{errors{code}enteredAddress{...BasicAddress}suggestedAddresses{...BasicAddress sealedAddress}newAddress{id...BaseAddressResponse}allowAvsOverride}fragment BasicAddress on AccountAddressBase{addressLineOne addressLineTwo city state postalCode}fragment BaseAddressResponse on AccountAddress{...BasicAddress id firstName lastName phone isDefault deliveryInstructions serviceStatus capabilities allowEditOrRemove latitude longitude extendedPostalCode addressLineThree colony municipality deliveryInstructionsList{deliveryInstructionType deliveryInstruction accessCode dropOffLocation deliveryInstructionsAddressType}pinLat pinLong recommendedPinLatLongSource isPinLatLongInvalid countryCallingCode @include(if:$fetchMXFields) secondaryPhone @include(if:$fetchMXFields) secondaryPhoneExtension @include(if:$fetchMXFields) secondaryPhoneType @include(if:$fetchMXFields) streetInformation @include(if:$fetchMXFields) landmark @include(if:$fetchMXFields) isSubscribed @include(if:$fetchCAFields)}",hash:"236d4dcccb814b03704c9d9023893aebd65669b38b7c97cdb5f1552630681f26"},y={type:"mutation",name:"DeleteAddress",query:"mutation DeleteAddress($id:ID!){deleteAccountAddresses(input:{ids:[$id]}){errors{code}}}",hash:"3ac0b5d80762dea4f2c69c70febf592d4fe9c543d25f4edeb9f9176ff4d4550a"},f={type:"query",name:"ValidateAddress",query:"query ValidateAddress($input:AccountAddressInput!){validateAddress(input:$input){errors{code message}enteredAddress{addressLineOne addressLineTwo city state postalCode}suggestedAddresses{addressLineOne addressLineTwo city state postalCode sealedAddress}sealedAddress allowAvsOverride}}",hash:"930d87d3fa5b22342bc23d559463f4b6d87e850582934a2df275e75c3a9e144c"},g={type:"query",name:"pickupStoreLocation",query:"query pickupStoreLocation{location(input:{}){pickupNode{geoPoint{latitude longitude}}}}",hash:"81e85d39dfac3fa8845fe720b9702569fb58442d3c5b3c5b2f176573cfde1e2c"},w={type:"query",name:"GetAccountAddressById",query:"query GetAccountAddressById($id:ID!){accountAddress(id:$id){id addressLineOne addressLineTwo city state postalCode pinLat pinLong isPinLatLongInvalid}}",hash:"aaf61a0e155f1f36a3ab771c57accd118495cfcd76a83602ee0c72b010c5da6c"},A={type:"mutation",name:"PatchDeliveryAddress",query:"mutation PatchDeliveryAddress( $id:ID! $deliveryInstructions:String $addressLineTwo:String $firstName:String $lastName:String $phone:String $deliveryInstructionsList:[deliveryInstructionInput!]$pinLat:Float $pinLong:Float $deliveryPreference:DeliveryPreference $recommendedPinLatLongSource:PinLatLongSource ){patchDeliveryAddress( input:{deliveryAddressId:$id instructions:$deliveryInstructions addressLineTwo:$addressLineTwo firstName:$firstName lastName:$lastName phone:$phone deliveryInstructionsList:$deliveryInstructionsList pinLat:$pinLat pinLong:$pinLong deliveryPreference:$deliveryPreference recommendedPinLatLongSource:$recommendedPinLatLongSource}){success errors{code message}deliveryPreference{deliveryLocation accessType{deviceName deviceAccessCode deviceLocation}}deliveryAddress{deliveryInstructionsList{deliveryInstructionType deliveryInstruction accessCode dropOffLocation deliveryInstructionsAddressType addressTypeSource}needAccessCode isUnsafeLocation isAccessCodeInvalid hasUnsafeLocationReturns pinLat pinLong isPinLatLongInvalid recommendedPinLatLongSource}}}",hash:"4f34a3500cb0c5cff305fd213551d831c678505a7d0b8b3c809846a7e0887ce2"},v={type:"query",name:"GetInvoiceAddress",query:"query GetInvoiceAddress{invoiceAddress{id firstName lastName middleName rfc ieps cfdi email addressLineOne addressLineTwo addressLineThree colony municipality addressType city state postalCode isDefault phone countryCallingCode digitalFiscalReceptor}}",hash:"546f6825fe8c82021b9077122b9865e6020c215dc48c52f6a5198efffe776d81"}},329203:function(e,n,r){r.d(n,{r:function(){return l}});var a=r(579960),t=r(925439);const l=e=>{const n=(0,t.cI)({...e,shouldFocusError:!0}),r=(0,a.n)(),l=()=>r("validation");return{...n,onFormSubmit:(e,r)=>n.handleSubmit(e,r||l)}}},444695:function(e,n,r){var a=r(390239),t=r(234811);r(156055);n.Z=e=>{let{alertMessage:n,variant:r}=e;return(0,a.jsx)(t.Alert,{children:n,variant:r,UNSAFE_className:"mb3",role:"alert"})}},6656:function(e,n,r){r.d(n,{J1:function(){return l},Te:function(){return c},Zw:function(){return i},iR:function(){return o},qR:function(){return d},t8:function(){return s},tA:function(){return a},uP:function(){return t}});const a=19.432608,t=-99.133209,l=["+52","+1"],o="+52",s="*";var i,c;!function(e){e.MOBILE="Mobile",e.LANDLINE="Landline"}(i||(i={})),function(e){e.PRIMARYPHONE="phone",e.SECONDARYPHONE="secondaryPhone"}(c||(c={}));const d=14},656125:function(e,n,r){r.d(n,{AB:function(){return m},Nd:function(){return p}});var a=r(390239),t=r(758298),l=r(271492),o=r(251956),s=r(992512),i=r(156055),c=r(131736);const d={setMap:s.Z,setSelectedLatLong:s.Z,isMapInitialized:!1},u=(0,i.createContext)(d),m=()=>(0,i.useContext)(u),p=e=>{let{children:n}=e;const{nonce:r}=(0,o.d9)(),{googleMaps:s={}}=(0,t.z)().publicRuntimeConfig||{},d=s.addressAPIKey||"",{0:m,1:p}=(0,i.useState)(!1);(0,i.useEffect)(()=>{d&&r&&!m&&(0,c.Dp)(d,r).then(()=>{p(!0)}).catch(e=>{(0,l.cM)(["error","account","mx-delivery-addresses-page","google-maps-api"],{type:"log",message:e})})},[d,r,m]);const{0:y,1:f}=(0,i.useState)(),{0:g,1:w}=(0,i.useState)(),A={setSelectedLatLong:w,selectedLatLong:g,map:y,setMap:f,isMapInitialized:m};return(0,a.jsx)(u.Provider,{value:A,children:n})}},131736:function(e,n,r){r.d(n,{Dp:function(){return u},IW:function(){return m},MA:function(){return d},ZC:function(){return y},lK:function(){return s},mh:function(){return f},ry:function(){return p},x0:function(){return c}});var a=r(575115),t=r(271492),l=r(489415),o=r(6656);const s=e=>"".concat(e.addressLineOne,",").concat(e.addressLineTwo?e.addressLineTwo:"",",").concat(e.addressLineThree?e.addressLineThree:"",",").concat(e.colony,"-").concat(e.postalCode,",").concat(e.city,",").concat(e.state),i=(e,n,r,a)=>n&&!r?"(".concat(n):r&&!a?"(".concat(n,") ").concat(r):"(".concat(n,") ").concat(r,"-").concat(a),c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/\D/g,"").replace(/(\d{3})(\d{1,3}){0,1}(\d{1,4}){0,1}/,i)},d=e=>e.length?e[0].message||"":(0,a.m)(l,"deliveryAddressesErrorMsg"),u=(e,n)=>new Promise((r,a)=>{var t,l;if((null===(t=window.google)||void 0===t?void 0:t.maps)&&(null===google||void 0===google||null===(l=google.maps)||void 0===l?void 0:l.geometry))return void r(null);const o=document.createElement("script");o.src="https://maps.googleapis.com/maps/api/js?key=".concat(e,"&libraries=geometry"),o.async=!0,o.nonce=n,o.addEventListener("error",()=>{a(new Error("Google Maps API failed!"))}),o.addEventListener("load",()=>{r(null)}),document.head.appendChild(o)}),m=(e,n)=>{const{onMarkerCreated:r,position:a,...t}=n,l=new google.maps.Marker({...t,position:a,map:e});return r(l),l.setMap(e),l},p=(e,n)=>({position:{lat:e.lat,lng:e.lng},draggable:!0,zIndex:1,optimized:!1,onMarkerCreated:e=>{e.addListener("dragend",()=>{const r=e.getPosition();r&&n({lat:r.lat(),lng:r.lng()})})}}),y=async(e,n)=>{try{const n=new google.maps.Geocoder,r=(await n.geocode({address:e})).results[0].geometry.location;return{lat:r.lat(),lng:r.lng()}}catch(r){return"function"===typeof n&&n(),(0,t.cM)(["error","account","delivery-addresses-page","getLatLngFromAddress failure"],{type:"log",message:r}),{lat:o.tA,lng:o.uP}}},f=(e,n,r,a)=>{const t=new google.maps.LatLng(e,n),l=new google.maps.LatLng(r,a);return google.maps.geometry.spherical.computeDistanceBetween(t,l)/1e3}},875451:function(e,n,r){r.d(n,{e:function(){return Se}});var a={};r.r(a),r.d(a,{addAddressText:function(){return D},addNewAddressText:function(){return U},addPickupAddressText:function(){return k},addedAddressText:function(){return O},back:function(){return Z},changePickupAddress:function(){return K},changeText:function(){return G},closeDialog:function(){return Y},closePanel:function(){return H},continueCtaText:function(){return $},editAddressText:function(){return X},noAddressFoundText:function(){return W},saveText:function(){return B},selectAddressText:function(){return q},updatedAddressText:function(){return z}});var t=r(390239),l=r(156055),o=r(658675),s=r(761e3),i=r(54387),c=r(329203),d=r(152750),u=r(577427),m=r(603970),p=r(64384),y=r(575115),f=r(235077),g=r(230767),w=r(992512),A=r(531678),v=r(623122),x=r.n(v),L=r(489415),E=r(6656),S=r(656125),b=r(131736);const C=x()(()=>r.e(86469).then(r.bind(r,282386)),{loadableGenerated:{webpack:()=>[282386]}}),h=x()(()=>Promise.all([r.e(37230),r.e(60554)]).then(r.bind(r,828889)),{loadableGenerated:{webpack:()=>[828889]}}),F=e=>{let{className:n="",address:r=d.WL,onClose:a,onSuccess:o,onError:v,alert:x,showGuestAlerts:F,setIsLoading:I,showSuccessMessage:V=w.Z,setIsDefaultAddress:M,isPanel:P,isInLocationClarity:N,disableCheckBoxByDefault:T,showErrorMessage:R=w.Z}=e;const{control:_,errors:j,setError:D,setValue:O,getValues:U,onFormSubmit:k,register:G,clearErrors:$}=(0,c.r)({defaultValues:T?{...r,isDefault:T}:{...r}}),{gmapDistanceThreshold:X}=(0,u.N)(),{0:W,1:B}=(0,l.useState)(""),{isAddressModalOpen:q,setAddressModalOpen:z}=(0,l.useContext)(A.G),{0:Z,1:Y}=(0,l.useState)(r.secondaryPhoneType?r.secondaryPhoneType:E.Zw.MOBILE),{0:H,1:K}=(0,l.useState)({lat:E.tA,lng:E.uP}),J=l.useRef(null),Q=(0,f.wG)(),{pageTitle:ee}=(0,l.useContext)(g.z1),{0:ne,1:re}=(0,l.useState)(0),[ae,{isLoading:te}]=(0,m.y)({onSuccess:(e,n)=>{const r=""===n.id?(0,y.m)(L,"addressSuccessfullyAdded"):(0,y.m)(L,"addressSuccessfullyUpdate");V(r),I(!1),a(),o(e),Q({context:ee,action:"asyncEvent",name:"addDeliveryAddressSuccess",payload:{pg:{nm:"addDeliveryAddressSuccess"}}})},onError:e=>{var n;const r=(0,b.MA)(e);var a;((0,p.KJ)(D)(e),Q({context:ee,action:"error"}),B(r),null===v||void 0===v||v(e),(null===(n=e[0])||void 0===n?void 0:n.fields)&&J.current)&&(null===(a=J.current[Object.keys(e[0].fields)[0]])||void 0===a||a.focus())}});return(0,l.useEffect)(()=>{I(te)},[te,I]),(0,t.jsxs)(l.Fragment,{children:[q&&(0,t.jsx)(S.Nd,{children:(0,t.jsx)(C,{formInput:U(),addressMapModal:q,toggleAddressMapModal:z,onMapModalSubmit:async e=>{e.secondaryPhone&&(e={...e,secondaryPhoneType:Z});B(""),z(!1),3===ne?(R((0,y.m)(L,"failedAddressError")),a()):ne>0?B((0,y.m)(L,"deliveryAddressesErrorMsg")):(0,b.mh)(H.lat,H.lng,null===e||void 0===e?void 0:e.latitude,null===e||void 0===e?void 0:e.longitude)>X?B((0,y.m)(L,"thresholdDistError")):await ae({input:{...e,fetchMXFields:!0},id:null===r||void 0===r?void 0:r.id})},googleApiError:()=>{re(ne+1)},setIntialAddressLatLong:K})}),(0,t.jsxs)("form",{id:N?"add-edit-address-form2":"add-edit-address-form",noValidate:!0,className:n,onSubmit:k(()=>{const{phone:e,secondaryPhone:n}=U();e!==n&&(B(""),z(!0)),Q({action:"onClick",context:ee,payload:{pg:{nm:"addDeliveryAddress"},buttonName:"save"}})}),ref:J,children:[x&&(0,t.jsx)(s.Z,{alert:x}),(0,t.jsx)(i.Z,{variant:"error",errors:j,globalError:W}),(0,t.jsx)(h,{register:G,errors:j,control:_,setIsDefaultAddress:M,setValue:O,getValues:U,setError:D,clearErrors:$,isPanel:P,secondaryPhoneType:Z,setSecondaryPhoneType:Y,disableCheckBoxByDefault:T}),(0,t.jsx)("div",{className:"mt3",children:F&&(0,t.jsx)(s.Z,{alert:{text:(0,t.jsx)("span",{children:(0,y.m)(L,"storeInformation")}),messageType:"info"}})})]})]})};var I=r(283973),V=r(107401),M=r(295368),P=r(603868),N=r(234811),T=r(508994),R=r(227297),_=r(489621),j=r.n(_);const D=()=>"Add address",O=()=>"You have successfully added new address.",U=()=>"Add new address",k=()=>"Add pickup address",G=()=>"Change",$=()=>"Continue",X=()=>"Edit address",W=()=>"No addresses found.",B=()=>"Save",q=()=>"Select address",z=()=>"You have successfully updated address.",Z=()=>"back",Y=()=>"Close dialog",H=()=>"Close panel",K=()=>"Change pickup address",J=e=>{let{children:n,onClose:r,title:l,onBackNavigation:o,...s}=e;const{isMobile:i}=(0,V.vP)();return(0,t.jsx)(T.Z,{desktopComponent:"panel",mobileComponent:"bottomsheet",position:"right",size:"medium",isOpen:!0,title:e=>{let{titleId:n}=e;return(0,t.jsxs)("div",{className:j()("items-center flex space-between pa2",{"bg-primary white pa3":!i}),children:[(0,t.jsx)(M.Z,{"aria-label":(0,y.m)(a,"back"),className:j()("bg-inherit color-inherit bn pa2 pointer",{"nl1 mr2":!i}),onClick:o,useLDButton:!1,onLinkName:"Back",children:(0,t.jsx)(R.J,{name:"ChevronLeft",size:"medium"})}),(0,t.jsx)(N.Heading,{id:n,as:"h2",children:l,size:"small",UNSAFE_className:j()("bg-inherit color-inherit w-100",{"f2 tl":!i,"f4 tc":i})}),(0,t.jsx)(M.Z,{"aria-label":i?(0,y.m)(a,"closeDialog"):(0,y.m)(a,"closePanel"),className:j()("bg-inherit color-inherit bn pa2 pointer",{"nr1 mv2":!i}),onClick:r,useLDButton:!1,onLinkName:"close",children:(0,t.jsx)(R.J,{name:"Close",size:"medium"})})]})},onClose:r,...s,children:n})},Q="EDIT_ADDRESS",ee="ADD_ADDRESS",ne=(0,y.m)(a,"updatedAddressText"),re=(0,y.m)(a,"addedAddressText"),ae=(0,y.m)(a,"noAddressFoundText"),te=(0,y.m)(a,"selectAddressText"),le=(0,y.m)(a,"continueCtaText"),oe=(0,y.m)(a,"saveText"),se=(0,y.m)(a,"changeText"),ie=(0,y.m)(a,"addPickupAddressText"),ce=(0,y.m)(a,"editAddressText"),de=(0,y.m)(a,"addAddressText");var ue=e=>{let{onClose:n,source:r,currentAddress:a,onSuccess:s,isVerifyOnly:i,onBackNavigation:c}=e;const{showReturnModesDeliveryAddress:d}=(0,I.A)(),{0:u,1:m}=(0,l.useState)(!1),{isMobile:p}=(0,V.vP)(),y=e=>{s(e)},f=()=>null;return(0,t.jsx)(J,{actions:(0,t.jsxs)(M.Z,{type:u?"button":"submit",variant:"primary",size:"medium",isFullWidth:!0,form:"add-edit-address-form",onLinkExtras:{ta:{pt:"addAddress"}},onLinkName:"save",children:[u&&(0,t.jsx)(P.$,{color:"white",size:"small"}),oe]}),onClose:n,title:"EDIT_ADDRESS"===r?ce:de,isOpen:!0,desktopComponent:"panel",mobileComponent:"bottomsheet",position:"right",size:"medium",onBackNavigation:c,children:d?(0,t.jsx)(F,{showAVSInPanel:!p,setIsLoading:m,address:"EDIT_ADDRESS"===r?a:void 0,onClose:f,returnAddressOnSubmit:i,onSuccess:y,hideDeliveryInstruction:!0}):(0,t.jsx)(o.X,{showAVSInPanel:!p,setIsLoading:m,address:"EDIT_ADDRESS"===r?a:void 0,onClose:f,returnAddressOnSubmit:i,onSuccess:y,hideDeliveryInstruction:!0})})},me=r(651839);var pe=e=>{let{onAdd:n,text:r=(0,y.m)(a,"addNewAddressText"),onLinkText:l="Add new address"}=e;return(0,t.jsx)(M.Z,{variant:"tertiary",className:"pa0",onClick:n,onLinkExtras:{ta:{pt:"selectAddress"}},onLinkName:(0,me.y)(l),children:r})},ye=r(120362),fe=r(444695),ge=r(910102),we=r(978522),Ae=r(964226),ve=r(248859);var xe=e=>{let{onClose:n,onSave:r,onEdit:a,onAdd:o,selectedAddress:s,successNotification:i,onBackNavigation:c}=e;var d;const{isMobile:u}=(0,V.vP)(),{0:m,1:p}=(0,l.useState)(s.id),{0:y,1:f}=(0,l.useState)(!1),{data:g,isLoading:w,isFetching:A,error:v}=(0,we.a)({...(0,ye.ZK)((0,Ae.Z)(),{responseGroup:"storeDeliverable"}),config:{refetchOnWindowFocus:!1}});let x,L=!1;const E=e=>{p(e.id),f(!0)};return w||A?x=(0,t.jsx)(P.$,{color:"white",size:"small"}):(null===g||void 0===g||null===(d=g.addresses)||void 0===d?void 0:d.length)?(L=!0,x=(0,t.jsxs)("div",{className:j()("sans-serif",{"vh-75":u}),children:[(null===i||void 0===i?void 0:i.source)===Q&&i.show&&(0,t.jsx)(fe.Z,{variant:"success",alertMessage:ne}),(null===i||void 0===i?void 0:i.source)===ee&&i.show&&(0,t.jsx)(fe.Z,{variant:"success",alertMessage:re}),(0,t.jsx)(pe,{onAdd:o}),(0,t.jsx)(ge.Z,{selectedAddressId:m,addresses:g.addresses,onSelectAddress:E,onEdit:a})]})):x=(0,t.jsx)(ve.m,{message:(null===v||void 0===v?void 0:v.message)||ae}),(0,t.jsx)(J,{isOpen:!0,onClose:n,title:te,desktopComponent:"panel",mobileComponent:"bottomsheet",position:"right",size:"medium",actions:L?(0,t.jsx)(M.Z,{isFullWidth:!0,variant:"primary",size:"medium",onClick:()=>{var e;const n=null===g||void 0===g||null===(e=g.addresses)||void 0===e?void 0:e.find(e=>e.id===m);r(n)},disabled:!y,children:le}):null,onBackNavigation:c,children:x})};var Le=e=>{let{name:n,address:r,onChange:l,linkLocation:o,isAddressChangeAllowed:s=!0}=e;const{showReturnModesDeliveryAddress:i,useTMSStringsFromConstants:c}=(0,I.A)(),d=(e=>{const{addressLineOne:n,addressLineTwo:r,city:a,state:t,postalCode:l}=e,o=n?"".concat(n,", "):"",s=r?"".concat(r,", "):"";return"".concat(o).concat(s).concat(a,", ").concat(t||""," ").concat(l.slice(0,5))})(r),u=r.phone?"Tel. ".concat(r.phone," "):"";return(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsxs)("div",{className:"w-70",children:[c&&(0,t.jsx)(N.Body,{as:"div",UNSAFE_className:"b","data-qm-mask":!0,children:"Direcci\xF3n de recolecci\xF3n"}),(0,t.jsx)(N.Body,{as:"div",UNSAFE_className:"b","data-qm-mask":!0,children:n||"".concat(r.firstName," ").concat(r.lastName)}),(0,t.jsx)(N.Body,{size:"small",UNSAFE_className:"truncate mid-gray db pt1","data-qm-mask":!0,children:d}),i&&(0,t.jsx)(N.Body,{as:"div",UNSAFE_className:"mid-gray db pt1","data-qm-mask":!0,size:"small",children:u})]}),s&&(0,t.jsx)(N.Body,{size:"small",UNSAFE_className:"mid-gray",children:(0,t.jsx)(M.Z,{role:"link",onLinkName:"changeAddress",onClick:l,onLinkExtras:{nm:{nm:"changeAddress",lc:o}},variant:"tertiary","aria-label":(0,y.m)(a,"changePickupAddress"),className:"h2 nr3",children:se})})]})};const Ee={source:"",show:!1},Se=e=>{let{selectedAddress:n,onSelect:r,linkLocation:a,isAddressChangeAllowed:o=!0,isNoSelectAllowed:s=!1,isVerifyOnly:i=!1,onCloseModal:c}=e;i&&(s=!0);const{0:d,1:u}=(0,l.useState)(),{0:m,1:p}=(0,l.useState)(!1),{0:y,1:f}=(0,l.useState)(!1),{0:g,1:w}=(0,l.useState)(Ee),A=()=>{f(!0)},v=()=>{f(!1),u(void 0)},x=()=>{p(!1),w(Ee)},L=e=>{u(e),A()};return(0,t.jsxs)(l.Fragment,{children:[n?(0,t.jsx)(Le,{address:n,onChange:()=>{s&&n?L(n):p(!0)},linkLocation:a,isAddressChangeAllowed:o}):(0,t.jsx)(pe,{onAdd:A,text:ie,onLinkText:"Add pickup address"}),n&&m&&(0,t.jsx)(xe,{onClose:()=>{x(),c()},onSave:e=>{p(!1),r(e)},onAdd:A,onEdit:L,showAddressAlert:!1,selectedAddress:n,successNotification:g,onBackNavigation:x}),y&&(0,t.jsx)(ue,{currentAddress:d,onClose:()=>{v(),c()},onSuccess:e=>{w({source:d?Q:ee,show:!0}),v(),!s&&n||r(e)},source:d?Q:ee,onBackNavigation:v,isVerifyOnly:i})]})}},829117:function(e,n,r){r.d(n,{O:function(){return p}});var a={};r.r(a),r.d(a,{actionCtaText:function(){return m}});var t=r(390239),l=r(234811),o=r(595365),s=r(575115),i=r(651839),c=r(295368),d=r(508994),u=r(156055);const m=()=>"Okay",p=e=>{let{isOpen:n,errorMessage:r,title:m,onClose:p,orderId:y,contextError:f,context:g,actionCTAText:w=(0,s.m)(a,"actionCtaText"),actionOnLinkCTAText:A="okay"}=e;const v={od:{id:y},ta:{pt:(0,i.y)(f)}},x=(0,u.useRef)(null);return n?(0,t.jsx)(o.ZP,{moduleViewExtras:v,moduleLinkExtras:v,name:"serverError",moduleContext:g,alternateObservationPoint:x,children:(0,t.jsx)("div",{ref:x,children:(0,t.jsx)(d.Z,{title:m,isOpen:n,onClose:p,actions:(0,t.jsx)(c.Z,{variant:"primary",isFullWidth:!0,size:"medium",onClick:p,onLinkName:A,children:w}),children:(0,t.jsx)(l.Body,{size:"small",weight:400,children:r})})})}):null}},413212:function(e,n,r){r.d(n,{D:function(){return l}});var a=r(390239),t=r(295368);const l=e=>{const{buttonName:n,...r}=e;return(0,a.jsx)(t.Z,{...r,children:n})}},325500:function(e,n,r){r.d(n,{AP:function(){return i},Jc:function(){return s},tW:function(){return l},uP:function(){return o}});var a=r(390239),t=r(803528);const l=(e,n)=>!(!e||!n)&&e.includes(n),o=e=>!!e&&l(e,"INHOME"),s=()=>(0,a.jsxs)("div",{className:"absolute--fill","data-testid":"subscription-branding",children:[(0,a.jsx)("span",{className:"absolute",style:{bottom:"3px",left:"-16px"},children:(0,a.jsx)("svg",{width:"40",height:"38",viewBox:"0 0 40 38",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 0C5.02108 2.58464 9.98479 5.73344 14.7795 9.44194C25.1884 17.5686 33.753 27.4762 40 37.9995L7.96354 38C3.56546 38 0.000121882 34.4 0.000121882 29.9591L0 0Z",fill:"#FFC220"})})}),(0,a.jsx)("span",{className:"absolute",style:{bottom:"3px",right:"-16px"},children:(0,a.jsx)("svg",{width:"60",height:"25",viewBox:"0 0 60 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M59.9999 1.04416C38 -3.45584 11.0001 6.97112 1.01366e-05 24.971C-2.49775e-05 24.971 4.52503e-05 24.9709 1.01366e-05 24.971L52.0058 24.7374C56.4208 24.7374 59.9999 21.0341 59.9999 16.4658V1.04416Z",fill:"#0071DC"})})}),(0,a.jsx)("span",{className:"absolute",style:{top:"-15px",right:"-16px"},children:(0,a.jsx)("svg",{width:"11",height:"59",viewBox:"0 0 11 59",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M3.43945 35C-6.56055 13.8 7.60611 2.83333 15.9394 0V58.5C15.9394 59.5 13.4394 56.2 3.43945 35Z",fill:"#FFC220"})})})]}),i=()=>(0,a.jsx)(t.Z,{src:"//i5.walmartimages.com/dfw/63fd9f59-6e24/64845a72-6c2f-4497-b755-848698e5f5e5/v1/walmart-plus-branding-divider.jpg",alt:"",width:"100%",height:"6px",preload:!1})},841081:function(e,n,r){r.d(n,{K:function(){return i}});var a=r(964226),t=r(978522),l=r(156055),o=r(458260);const s={enabled:!0},i=e=>{let{options:n}=e;var i;const c=(0,a.Z)(),d={...s,...(n||{})};let u=!1,m=!d.enabled;const{data:p,isLoading:y,isError:f}=(0,t.a)({...(g=c,{queryKey:["user-email"],queryFn:async()=>g.getGqlFetch("ceorders")((await r.e(82930).then(r.bind(r,881848))).GqlGetUserEmailQuery)}),config:{staleTime:o._j,enabled:d.enabled}});var g;return u=(null===p||void 0===p?void 0:p.errors)?p.errors.length>0:f,!(null===p||void 0===p||null===(i=p.data)||void 0===i?void 0:i.account)&&!u||m||(m=!0),(0,l.useEffect)(()=>{d.enabled&&d.onSuccess&&p&&d.onSuccess(p)},[p]),{isLoading:!!d.enabled&&y,isError:!!d.enabled&&u,data:d.enabled?p:void 0,isEmailFetchComplete:m}}},349296:function(e,n,r){r.d(n,{C:function(){return z}});var a={};r.r(a),r.d(a,{full:function(){return A}});var t=r(390239),l=r(234811),o=r(875451),s=r(829117),i=r(325500),c=r(191653),d=r(154055),u=r(413212),m=r(107401),p=r(34312),y=r(489621),f=r.n(y),g=r(156055),w=r(575115);const A=()=>"Full",v={DEFAULT:"br-100 w4 h4 flex flex-column items-center justify-center ba lh-title f5 sans-serif pointer",DISABLED:"b--transparent bg-near-white light-gray",SELECTABLE:"bg-white b--primary mid-gray hover-black hover-bg-white",SELECTED:"bg-primary white hover-white hover-bg-primary",MOBILE:"w5 h5"},x=e=>{let{dateLabel:n,dayOfWeek:r,id:o,isAvailable:s,isSelected:i,onSelect:c}=e;const{isMobile:d}=(0,m.vP)(),u=()=>s&&c(o),{DEFAULT:p,DISABLED:y,SELECTABLE:g,SELECTED:A,MOBILE:x}=v,L="".concat(r," ").concat(n," ").concat(i?"selected":""," ").concat(s?"":"full"),E=e=>{let{children:n}=e;return(0,t.jsx)("button",{className:f()(p,{[A]:i&&s,[y]:!s,[g]:!i&&s,[x]:d}),disabled:!s,onClick:u,"aria-label":L,children:n})},S=()=>(0,t.jsxs)("div",{id:o,children:[(0,t.jsxs)(E,{children:[(0,t.jsx)("div",{className:f()("lh-title",{b:s}),children:r.substr(0,3)}),(0,t.jsx)("div",{className:"f7",children:n})]}),!s&&(0,t.jsx)("div",{className:"tc f7 mid-gray pa1","aria-hidden":!0,children:(0,w.m)(a,"full")})]}),b=()=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.VisuallyHidden,{UNSAFE_className:"clip",children:"".concat(r," ").concat(n)}),(0,t.jsx)("div",{className:f()("tc b pb1",{"light-gray":!s}),"aria-hidden":"true",children:r.substr(0,3)}),(0,t.jsx)(E,{children:(0,t.jsx)("div",{className:"f5",children:n})}),!s&&(0,t.jsx)("div",{className:"tc f6 mid-gray pa1","aria-hidden":!0,children:(0,w.m)(a,"full")})]});return d?(0,t.jsx)(S,{}):(0,t.jsx)(b,{})};var L=(0,g.memo)(x);const E=e=>void 0!==e.current,S=(e,n)=>{let r=(n()-e.startTime)/468;r=r>1?1:r;const a=(t=r,.5*(1-Math.cos(Math.PI*t)));var t;const l=e.startX+(e.x-e.startX)*a,o=e.startY+(e.y-e.startY)*a;e.scrollElement(e.element,l,o),l===e.x&&o===e.y||window.requestAnimationFrame(()=>S(e,n))},b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:80,r=arguments.length>2?arguments[2]:void 0;const a=Math.floor((r-1)/2),t=parseInt(e,10),l=t-a;return n*l},C=e=>{const n=e.split(":"),r=parseInt(n[0],10),a=parseInt(n[1],10);return"".concat((r+11)%12+1).concat(a>0?":".concat(n[1]):"").concat(r>=12?"pm":"am")},h=(e,n,r)=>{const a=(0,g.useRef)(null),t=(0,g.useRef)(null);return(0,g.useEffect)(()=>{!function(e,n,r){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window;var t,l;const o=a.performance&&a.performance.now?a.performance.now.bind(a.performance):Date.now;if("undefined"!==typeof a&&E(n)&&(null===n||void 0===n||null===(t=n.current)||void 0===t?void 0:t.getBoundingClientRect)&&E(e)&&(null===e||void 0===e||null===(l=e.current)||void 0===l?void 0:l.getBoundingClientRect)){const t=e.current,l=n.current,s=(e,n,r)=>{e.scrollLeft=n,e.scrollTop=r},i=(e,n,r)=>{S({element:e,scrollElement:s,startTime:o(),startX:e.scrollLeft,startY:e.scrollTop,x:n,y:r},o)},c=e=>parseInt(e.replace("px",""),10),d=(e,n)=>{const{paddingRight:r,paddingLeft:t,width:l}=a.getComputedStyle(e),o=c(t),s=c(r),i=c(l);let d,u;return 0===o?(d=i+s,u=i+((n-1)*i+s)):(d=i-s,u=i+((n-1)*i-s)),{containerTrueWidth:u,targetCommonWidth:d}},u=(e,n)=>{var r,a;const t=n.getBoundingClientRect(),l=e.getBoundingClientRect(),o=null===(r=e.dataset)||void 0===r?void 0:r.place,s=(null===(a=n.children)||void 0===a?void 0:a.length)||7,{containerTrueWidth:i,targetCommonWidth:c}=d(e,s);return{scrollTarget:i/2-t.width/2+b(o,c,s),containerRects:t,targetRects:l}},{targetRects:m,containerRects:p,scrollTarget:y}=u(t,l);i.call(t,l,y,l.scrollTop+m.top-p.top-r)}}(a,r||t,n||0)},[e,a,t]),{selectedDayRef:a,selectedDayContainerRef:t}},F=e=>{let{dates:n,onSelect:r,selectedDay:a}=e;const{isMobile:l}=(0,m.vP)(),o=(0,p.t)(),s=l?0:o+7,{selectedDayRef:i,selectedDayContainerRef:c}=h(a,s);return(0,t.jsx)("div",{className:f()("flex flex-row pb2 pt3 justify-between overflow-x-scroll",{"nr3 pr3":l}),ref:a&&c||null,children:n.map((e,l)=>{let{dateLabel:o,dayOfWeek:s,id:c,isAvailable:d}=e;const u=a===c;return(0,t.jsx)("div",{className:f()("pv0",{"pl0 pr2":0===l,"pl2 pr0":l===n.length-1,ph2:0!==l&&l!==n.length-1}),"data-place":l,ref:u?i:null,children:(0,t.jsx)(L,{dateLabel:o,dayOfWeek:s,id:c,isAvailable:d,isSelected:u,onSelect:r})},c)})})};var I=(0,g.memo)(F),V=r(130096);const M=e=>{let{slots:n,selectedTimeWindow:r,onChange:a}=e;return(0,t.jsx)("div",{className:"mt3 nb3",children:(0,t.jsx)(l.FormGroup,{children:null===n||void 0===n?void 0:n.map((e,n)=>{const l=e.slotStartTime===r.slotStartTime&&e.slotEndTime===r.slotEndTime,o=(s=e.slotStartTime,i=e.slotEndTime,"".concat(C(s)," - ").concat(C(i)));var s,i;return(0,t.jsx)("div",{className:f()("flex flex-column pv3 ph3 mb3 br2 bw1 b--solid w-100",{"b--blue":l,"b--washed-blue":!l}),children:(0,t.jsx)(V.Z,{checked:l,value:"".concat(o),label:(0,t.jsx)("div",{children:"".concat(o)}),onChange:()=>a(e),name:"Time slot ".concat(n)})},n)})})})};var P=r(88765),N=r(196849);const T=e=>{let{value:n,setValue:r}=e;const a=(0,w.m)(N,"anyInstructions"),o={"aria-label":a};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"mt3 pt2 db bg-near-white nl3 nr3 nl4-m nr4-m",children:(0,t.jsx)(l.Divider,{})}),(0,t.jsx)("div",{className:"mv3",children:(0,t.jsx)(l.Body,{size:"large",weight:700,children:a})}),(0,t.jsx)("div",{className:"mb3 mt2",children:(0,t.jsx)(l.TextArea,{label:"",maxLength:240,onChange:e=>r(e.target.value),value:n,placeholder:P.zR,textAreaProps:o})})]})},R=e=>{let{selectedDay:n,onDayChange:r,selectedTimeWindow:a,setSelectedTimeWindow:l,specialInstruction:o,setSpecialInstruction:s,slotProps:i,slots:c,showSpecialInstruction:d}=e;return(0,t.jsxs)(t.Fragment,{children:[i&&(0,t.jsx)(I,{selectedDay:n,onSelect:r,dates:i}),c&&(0,t.jsx)(M,{selectedTimeWindow:a,onChange:l,slots:c}),d&&(0,t.jsx)(T,{value:o,setValue:s})]})};var _=r(339320),j=r(595365),D=r(651839),O=r(405238),U=r(7383),k=r(974901),G=r(853679),$=r(517524),X=r(509844),W=r(930765);const B=()=>(0,t.jsx)(U.Z,{title:(0,w.m)(X,"loading"),children:(0,t.jsx)("span",{className:"white",children:k.I$})}),q=e=>{let{isWalmartPlus:n}=e;return n?(0,t.jsx)("div",{className:"mt3 db nl3 nr3 nl4-m nr4-m",style:{lineHeight:"0"},"data-testid":"wplus-divider",children:(0,t.jsx)(i.AP,{})}):(0,t.jsx)("div",{className:"mt3 pt2 db bg-near-white nl3 nr3 nl4-m nr4-m",children:(0,t.jsx)(l.Divider,{})})},z=e=>{let{pickupGroupNo:n,errorDetails:r,onContinue:a,title:i,moduleContext:m,orderNo:p,items:y,carrierService:f,slot:A,day:v,shouldUpdateUIGroup:x,hasMultipleGroups:L,groupItemIds:E,onBackNavigation:S,onClose:b,isGuest:C,fullAddress:h,isWalmartPlus:F,isMobile:I}=e;const{receiptId:V,flowType:M,flowQueryParam:P}=(0,G.mL)(),{emailAddress:N}=(0,_.lC)()||{},T=C||!!N,U=!!V,z=L?(0,w.m)(X,"saveAndContinue"):(0,w.m)(X,"continueText"),Z=L?"Save and continue":"Continue",Y=n||0,{isLoading:H,isError:K,specialInstruction:J,setSpecialInstruction:Q,selectedDay:ee,setSelectedDay:ne,selectedTimeWindow:re,setSelectedTimeWindow:ae,timeProps:te,slotProps:le,address:oe,setAddress:se,errorPageData:ie}=(0,W.or)({carrierService:f,groupNo:Y,orderNo:p,initialAddress:h,slot:A,day:v,guestEmail:N,errorDetails:r}),ce=(0,W.sc)();(0,g.useEffect)(()=>{ce||(ne(""),Q(""),ae({}))},[Y,oe]);const de=m||k.S3,{moduleViewPayload:ue,moduleLinkExtras:me}=(0,$.p3)(p,de,ee,re.slotStartTime,re.slotEndTime,{flowType:M,flowQueryParam:P},E),{slots:pe,message:ye}=te||{},fe=f===k.Fc,ge=!(T||fe),we={slotName:re.slotName,specialInstruction:J,slotStartTime:re.slotStartTime,slotEndTime:re.slotEndTime,requestDate:ee,pickupGroupNo:Y,shouldUpdateUIGroup:x,keyCode:re.keyCode};if(H)return(0,t.jsx)(B,{});if(ie)return(0,t.jsx)(c.d,{...ie,isMobile:I});return(0,t.jsxs)(j.ZP,{name:k.uu,moduleContext:de,moduleViewExtras:ue,children:[(0,t.jsxs)(d.L,{onClose:b,onBackNavigation:S,title:k.f4,actions:(0,t.jsx)(u.D,{onClick:()=>{oe&&a(oe,we)},variant:"primary",isFullWidth:!0,size:"medium",onLinkName:(0,D.y)(Z),buttonName:z,disabled:!re.slotStartTime,onLinkExtras:me}),children:[ye&&(0,t.jsx)(l.Alert,{children:ye,variant:"warning",UNSAFE_className:"mb3-m"}),fe&&(0,t.jsx)(l.Alert,{children:k.MD,variant:"info",UNSAFE_className:"mb3-m mt2",role:"region","aria-label":(0,w.m)(X,"information"),"aria-live":"assertive"}),(0,t.jsx)(l.Heading,{as:"h3",size:"small",UNSAFE_className:"mb3 mt3 mt0-m",children:i}),(0,t.jsx)(O.G,{items:y}),(0,t.jsx)("div",{className:"mv3 pt2 db bg-near-white nl3 nr3 nl4-m nr4-m",children:(0,t.jsx)(l.Divider,{})}),(0,t.jsx)(o.e,{selectedAddress:oe,onSelect:se,linkLocation:"pickup contact",isAddressChangeAllowed:ge,isVerifyOnly:U,onCloseModal:b}),(0,t.jsx)(q,{isWalmartPlus:F}),(0,t.jsx)(R,{selectedDay:ee,onDayChange:e=>{ne(e),ae({})},selectedTimeWindow:re,setSelectedTimeWindow:ae,specialInstruction:J,setSpecialInstruction:Q,slotProps:le,slots:pe,showSpecialInstruction:!!oe})]}),(0,t.jsx)(s.O,{...r,isOpen:K})]})}},930765:function(e,n,r){r.d(n,{Hz:function(){return L},ue:function(){return x},LC:function(){return b},sc:function(){return C},or:function(){return S},Gr:function(){return E}});var a=r(851965),t=r(354448),l=r(117045),o=r(458260),s=r(841081),i=r(158529),c=r(271492),d=r(881241),u=r(156055),m=r(974901),p=r(853679),y=r(195288);var f=r(575115),g=r(545301),w=r(449796),A=r(509844);const v=e=>{let{errorDetails:{pickupGrouping:n,pickupAvailability:r,userEmail:a},cloudVariables:{releaseNewErrorPageIntegration:t},actions:s,orderId:i,flowType:c,context:d}=e;const u=m.L6;let p=!1;const{ctaLabel:y,errMessage:v}=(0,w.J)(c),x={errorConfig:{...m.hn,logData:{...m.hn.logData,page:l.Zw.PICKUP_SCHEDULE,logMessage:u,errorCategory:o.b9.API_ERROR,apiName:o.Mv.PICKUP_GROUPING,flowType:c},message:v||(0,f.m)(A,"errorMessage"),primaryAction:{...m.hn.primaryAction,label:y||m.Ox,action:s.onClose}},orderId:i};if(null===n||void 0===n?void 0:n.isError){const e=n.errorMessage||u;p=!0,x.errorConfig.logData={...x.errorConfig.logData,logMessage:e,errorCategory:n.errorCategory}}else if(null===r||void 0===r?void 0:r.isError){const e=r.errorMessage||u;p=!0,x.errorConfig.logData={...x.errorConfig.logData,logMessage:e,apiName:o.Mv.PICKUP_AVAILABILITY,errorCategory:r.errorCategory},x.errorConfig.message=e}else if(null===a||void 0===a?void 0:a.isError){const e=a.errorMessage||u;p=!0,x.errorConfig.logData={...x.errorConfig.logData,logMessage:e,apiName:o.Mv.USER_EMAIL,errorCategory:a.errorCategory},x.errorConfig.message=e}return p&&(x.analyticsConfig=(0,g.v)(x.errorConfig.logData.logMessage,c,i,m.RC,d)),{errorPageProps:t&&p?x:void 0}},x=e=>{const{addressLineOne:n,addressLineTwo:r,city:a,stateOrProvinceCode:t,state:l,postalCode:o,countryCode:s}=e;return{addressLineOne:n,addressLineTwo:r,city:a,stateOrProvinceCode:t||l,postalCode:o,countryCode:s||"US",addressType:"UNKNOWN"}},L=e=>({...e,addressLineTwo:e.addressLineTwo||"",city:e.city||"",state:"",stateOrProvinceCode:e.stateOrProvinceCode||"",countryCode:e.countryCode||"",isDefault:!1,serviceStatus:"NO_GLASS_SERVICE",id:"",firstName:"",lastName:"",phone:"",postalCode:e.postalCode||"",capabilities:["NO_GLASS_SERVICE"],allowEditOrRemove:!0}),E=e=>{var n,r;const{selectedItems:s,setPickupLines:y,setPickupGroup:f,shipmentId:g,setCurrentPage:w,flowType:A}=(0,p.mL)(),{itemList:x}=(0,p.Ew)(),{orderNo:L}=x,E="b2b"===(0,d.e_)(),S=(0,i.iC)(a.Z),b=null===(n=S.returns.values)||void 0===n?void 0:n.queryLogEnable,C=((e,n)=>{const r={payload:{orderLines:[]}};return Object.keys(e).forEach(a=>{const{salesOrderLineId:t,selectedReturnMode:l,selectedQuantity:o,itemCategory:s,quantityDetails:i}=e[a],c={unitOfMeasure:i.unitOfMeasure,measurementValue:null!==o&&void 0!==o?o:i.measurementValue};if(l===m.JX||l===m.Fc){const e={salesOrderLineId:t,quantity:c,returnMode:l===m.Fc?l:void 0,itemCategory:null!==s&&void 0!==s?s:void 0};n&&(e.shipmentId=n),r.payload.orderLines.push(e)}}),r})(s,g),[h,{isError:F,isLoading:I}]=(0,t.Ao)({onSuccess:e=>{f(e),y(e.dataForService.returnLineGroups),b&&(0,c.cM)(["info","orders","returns","uiGroup from pickupGrouping"],JSON.stringify(e.uiGroups))},id:L,postPath:"pickupGrouping",useWalmartIDHeader:E}),V=()=>{w(l.Zw.RETURN_METHOD)},{errorPageProps:M}=v({cloudVariables:{releaseNewErrorPageIntegration:null===(r=S.returns.values)||void 0===r?void 0:r.releaseNewErrorPageIntegration},errorDetails:{pickupGrouping:{isError:F,errorCategory:o.b9.API_ERROR}},orderId:L,actions:{onClose:V},flowType:A});return(0,u.useEffect)(()=>{e||h({input:C})},[]),{isLoading:I,isError:F,goToMethodPage:V,errorPageData:M}},S=e=>{let{carrierService:n,groupNo:r,orderNo:l,initialAddress:c,slot:f,day:g,guestEmail:w,errorDetails:A}=e;var L,E;const{flowType:S}=(0,p.mL)(),{0:b,1:C}=(0,u.useState)(""),h="b2b"===(0,d.e_)(),{0:F,1:I}=(0,u.useState)({}),{0:V,1:M}=(0,u.useState)(c),{0:P,1:N}=(0,u.useState)(g||""),{0:T,1:R}=(0,u.useState)(f||{}),_=(0,i.iC)(a.Z),{sendEmailInPickupAvailability:j,releaseNewErrorPageIntegration:D}=_.returns.values||{},O=j&&!w&&m.oj.includes(n.toLocaleLowerCase()),{isError:U,data:k,isEmailFetchComplete:G}=(0,s.K)({options:{enabled:O}}),$=j&&(w||(null===k||void 0===k||null===(L=k.data)||void 0===L||null===(E=L.account)||void 0===E?void 0:E.profile.emailAddress))||"",[X,{isError:W,isLoading:B}]=(0,t.Jj)({onSuccess:e=>{I(e)},id:l,postPath:"pickupAvailability",useWalmartIDHeader:h});let q,z;var Z,Y;(0,u.useEffect)(()=>{if(V&&G){const e=((e,n,r)=>{const a=new Date,t=String(a.getDate()).padStart(2,"0"),l=String(a.getMonth()+1).padStart(2,"0"),o=a.getFullYear(),s="".concat(o,"-").concat(l,"-").concat(t),i={payload:{availability:{requestType:m.JX,requestDate:s,carrierService:e,address:n}}};return r&&(i.payload.availability.customerEmailId=r),i})(n,x(V),$);X({input:e})}},[r,V,G]),F.availability&&(q=(e=>{const n=[];return e.forEach(e=>{const r=Date.parse("".concat(e.pickupDate,"T00:00:00")),a=new Date(r),t={dayOfWeek:[m.m5,m.B2,m.V$,m.Xg,m.Kc,m.ek,m._e][a.getDay()],dateLabel:(0,y.Qr)(e.pickupDate),id:e.pickupDate,isSelected:!1,isAvailable:e.isSlotsAvailable};n.push(t)}),n})(F.availability.options),Z=F.availability.options,Y=P,z=Z.find(e=>e.pickupDate===Y));const{errorPageProps:H}=v({cloudVariables:{releaseNewErrorPageIntegration:D},errorDetails:{pickupAvailability:{isError:W,errorCategory:o.b9.API_ERROR,errorMessage:A.errorMessage},userEmail:{isError:U,errorCategory:o.b9.API_ERROR,errorMessage:A.errorMessage}},orderId:l,actions:{onClose:A.onClose},flowType:S,context:A.context});return{isLoading:B||!G,isError:W||U,specialInstruction:b,setSpecialInstruction:C,selectedDay:P,setSelectedDay:N,selectedTimeWindow:T,setSelectedTimeWindow:R,timeProps:z,slotProps:q,address:V,setAddress:M,errorPageData:H}},b=e=>{let{pickupGroup:n,address:r,setGroupNo:a,setCurrentPage:t,uiGroups:o,setUIGroups:s,info:i,enableEmailDialog:c}=e;const{groupNo:d,carrierService:u,lines:m}=n.uiGroups[i.pickupGroupNo],p={requestDate:i.requestDate,slotStartTime:i.slotStartTime,slotEndTime:i.slotEndTime,slotName:i.slotName,keyCode:i.keyCode,carrierService:u,phoneNumber:r.phone,specialInstruction:i.specialInstruction,senderName:"".concat(r.firstName," ").concat(r.lastName),address:x(r)},y=o,f={groupNo:d,carrierService:u,lines:m,pickupScheduleInfo:p};if(i.shouldUpdateUIGroup){const e=o.findIndex(e=>e.groupNo===d);return y.splice(e,1,f),s(y),void t(l.Zw.REVIEW_RETURN)}y.push(f),s(y),i.pickupGroupNo!==n.uiGroups.length-1?(a(i.pickupGroupNo+1),t(l.Zw.PICKUP_SCHEDULE)):t(c?l.Zw.EMAIL_SELECTION:l.Zw.REVIEW_RETURN)},C=()=>{const e=(0,u.useRef)(!0);return(0,u.useEffect)(()=>{e.current=!1},[]),e.current}}}]);