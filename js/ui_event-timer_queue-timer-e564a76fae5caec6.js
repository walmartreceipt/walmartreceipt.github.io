"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[59647],{293065:function(e,n,t){t.d(n,{w:function(){return I}});var l={};t.r(l),t.d(l,{countDownTimer:function(){return x},minsLeft:function(){return y},timer:function(){return f},waitTime:function(){return p}});var r=t(390239),i=t(234811),a=t(575115),o=t(227297),s=t(489621),d=t.n(s),c=t(156055),m=t(491288),u=t(985115);const p=e=>"Estimated wait time "+e.minutes+u.Ho(e.minutes,0,m.en,{"1":"min",other:"mins"}),y=e=>e.minutes+" "+u.Ho(e.minutes,0,m.en,{"1":"minute",other:"minutes"})+" "+u.Ys(e.addonMessage,{undefined:"left to buy your item",other:e.addonMessage}),f=()=>"timer",x=e=>e.minutes+":"+e.seconds;var h=t(124138),w=t(859427);const g={DEFAULT:{backgroundColor:"bg-gold",fontColor:"black"},WARNING:{backgroundColor:"bg-red",fontColor:"white"},EXPIRED:{backgroundColor:"bg-near-white",fontColor:"black"}},b={fontSize:".625rem",verticalAlign:"-.01875em",marginTop:"2px",marginRight:"2px"},N=e=>{const{timeUnits:n,showClockIcon:t=!0}=e;return(0,r.jsxs)("div",{className:d()("flex lh-copy f5 br1 justify-center","bg-washed-blue","black"),style:{width:"61px"},"data-testid":"unit-timer",children:[t&&(0,r.jsx)(o.J,{name:"Clock",title:(0,a.m)(l,"timer"),className:"mr1 mt1"}),(0,r.jsx)("span",{"aria-hidden":!0,className:d()("b"),children:0===n.minutes?"".concat(n.minutes+1,"min"):"".concat(n.minutes+1,"mins")}),(0,r.jsx)(i.VisuallyHidden,{role:"timer","aria-live":"assertive","aria-atomic":"true","aria-relevant":"all",children:(0,a.m)(l,"waitTime",{minutes:n.minutes+1})})]})},E=e=>{const{timeUnits:n,timerState:t,showClockIcon:s=!0,size:c,ariaLabelAddOnMessage:m}=e,{backgroundColor:u,fontColor:p}=g[t];let y=s?"75px":"52px";"small"===c&&(y=s?"45px":"35px");const f="small"===c;return(0,r.jsxs)("div",{className:d()("flex lh-copy br1 justify-center",u,p,{f5:!f},{f8:f}),style:{width:y},"data-testid":"queue-timer",children:[s&&(0,r.jsx)(o.J,{name:"Clock",title:(0,a.m)(l,"timer"),className:d()({"mr1 mt1":!f}),style:f?b:{}}),(0,r.jsx)("span",{"aria-hidden":!0,className:"b",children:(0,a.m)(l,"countDownTimer",{minutes:String(n.minutes).padStart(2,"0"),seconds:String(n.seconds).padStart(2,"0")})}),(0,r.jsx)(i.VisuallyHidden,{role:"timer","aria-live":"off","aria-atomic":"true","aria-relevant":"all",children:(0,a.m)(l,"minsLeft",{minutes:n.minutes,addonMessage:m})})]})},I=e=>{const{endTime:n,onTimeChange:t,ticketState:l="valid",showClockIcon:i,className:a,size:o="default",ariaLabelAddOnMessage:s}=e,{timeRemainingInSec:d}=(0,h.A)(n.getTime()),m=(0,w.E3)(d),u=0===m.minutes&&0===m.seconds?"EXPIRED":m.minutes<2?"WARNING":"DEFAULT",{0:p,1:y}=(0,c.useState)(u);return(0,c.useEffect)(()=>{t&&t(d),0===m.minutes&&0===m.seconds?y("EXPIRED"):m.minutes>=2?y("DEFAULT"):y("WARNING")},[m,d,t]),(0,r.jsxs)("div",{className:a,children:[("pending"===l||"paused"===l)&&(0,r.jsx)(N,{timeUnits:m,showClockIcon:i}),"valid"===l&&(0,r.jsx)(E,{timeUnits:m,timerState:p,showClockIcon:i,size:o,ariaLabelAddOnMessage:s})]})}}}]);