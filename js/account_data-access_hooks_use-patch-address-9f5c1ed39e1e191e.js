"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[61426],{628365:function(e,n,r){r.r(n),r.d(n,{accessCode:function(){return a},accessCodePlaceHolder:function(){return t},accessMethodMsg:function(){return l},apartment:function(){return o},associateKnockMsg:function(){return s},backDoor:function(){return i},buildingReception:function(){return c},business:function(){return u},clear:function(){return d},deliveryNotes:function(){return m},deliveryNotesPlaceHolder:function(){return p},deliveryOptionsLabel:function(){return y},dropOffDetailsFor:function(){return f},dropoffLocation:function(){return g},enterKeyPadCodes:function(){return w},enterWithMyKeyPad:function(){return v},errorMsg:function(){return x},frontDoor:function(){return E},garage:function(){return L},hide:function(){return b},house:function(){return A},inHomeDeliveryNotes:function(){return S},inHomeHeader:function(){return h},inHomeNotesPlaceHolder:function(){return F},keypadRequiredField:function(){return C},leaveAtMyDoor:function(){return V},letThemInMsg:function(){return I},mailroom:function(){return N},meetAtDoor:function(){return j},noPreference:function(){return D},notAtHomeMsg:function(){return P},other:function(){return M},propertyStaff:function(){return _},propertyTypeLabel:function(){return O},regularHeader:function(){return R},requiredField:function(){return U},save:function(){return T},show:function(){return W},sideDoor:function(){return k},sidePorch:function(){return G},useDeviceToEnter:function(){return q},whereIsKeyPadMsg:function(){return H},whereToDeliver:function(){return B}});const a=()=>"Gate or call box code",t=()=>"e.g \u201C1234\u201D",l=()=>"How should Walmart associates access your home?*",o=()=>"Apartment",s=()=>"Your associate will knock before dropping off your order.",i=()=>"Back door",c=()=>"Building reception",u=()=>"Business",d=()=>"Clear",m=()=>"Delivery notes",p=()=>"Building description, nearby landmark, etc.",y=()=>"How do you want the items to be delivered?",f=e=>"Dropoff details for "+e.pt,g=()=>"Dropoff location",w=()=>"Enter your keypad\u2019s code*",v=()=>"Enter with my keypad",x=()=>"We were unable to save your delivery instructions due to a technical issue. Please try again.",E=()=>"Front door",L=()=>"Garage door",b=()=>"Hide",A=()=>"House",S=()=>"InHome delivery instructions",h=()=>"InHome delivery preferences",F=()=>"Tell our associates how to make your delivery perfect. E.g. Park near corner, fridge is at end of hall.",C=()=>"Required field.",V=()=>"Leave at my door",I=()=>"I\u2019ll be home to let them in",N=()=>"Mailroom or property staff",j=()=>"I'll sign for my order",D=()=>"No preference",P=()=>"Not at home? We\u2019ll place your order at your doorstep.",M=()=>"Other",_=()=>"Property staff",O=()=>"Property type",R=()=>"Delivery instructions",U=()=>"Required field*",T=()=>"Save",W=()=>"Show",k=()=>"Side door",G=()=>"Side porch",q=e=>"Your associate will use your "+e.dn+" to enter your home for delivery. Manage this device in your account.",H=()=>"Where is your entry keypad located?*",B=()=>"Where should we deliver your order?*"},412640:function(e,n,r){r.r(n),r.d(n,{adjustPin:function(){return t},callOutText:function(){return l},disclaimerText:function(){return o},errorText:function(){return L},geoErrorBtn:function(){return s},geoErrorText:function(){return i},header:function(){return c},loadingText:function(){return u},moveDown:function(){return d},moveLeft:function(){return m},moveRight:function(){return p},moveUp:function(){return y},mwebHeader:function(){return f},resetLocation:function(){return g},retryText:function(){return x},tryAgain:function(){return E},zoomIn:function(){return w},zoomOut:function(){return v}});var a=r(985115);const t=()=>"Adjust pin",l=()=>"We'll deliver here",o=e=>"We\u2019ll do our best to honor your delivery preferences, but "+a.Ys(e.isDriver,{true:"drivers",other:"associates"})+" may not always be able to follow them.",s=()=>"Reset pin to continue",i=()=>"That looks a little far from your address.",c=()=>"Is this the right place to deliver?",u=()=>"We\u2019re loading your map location",d=()=>"Move down",m=()=>"Move left",p=()=>"Move right",y=()=>"Move up",f=()=>"Adjust the pin to make sure your order gets delivered to the right place.",g=()=>"Reset location",w=()=>"Zoom in",v=()=>"Zoom out",x=()=>"We\u2019re unable to load the map at this moment",E=()=>"Try again",L=()=>"The map isn't available, but you can still add additional delivery notes."},666440:function(e,n,r){r.d(n,{O:function(){return o}});var a=r(964226),t=r(412784),l=r(965396);const o=e=>{const n=(0,a.Z)().getGqlFetch("cegateway");return(0,t.D)(e=>n(l.Em,e),e)}},872923:function(e,n,r){r.d(n,{F:function(){return C}});var a=r(390239),t=r(234811),l=r(575115),o=r(628365);const s=e=>{let{gateCode:n,setGateCode:r}=e;return(0,a.jsx)(t.TextField,{label:(0,l.m)(o,"accessCode"),onChange:e=>{r(e.target.value)},value:n||"",placeholder:(0,l.m)(o,"accessCodePlaceHolder"),textFieldProps:{maxLength:25,name:"accessCode"},type:"text",UNSAFE_className:"mt3"})},i=e=>{let{deliveryNotes:n,setDeliveryNotes:r,instructionType:s}=e;return(0,a.jsx)(t.TextArea,{label:"INHOME"===s?(0,l.m)(o,"inHomeDeliveryNotes"):(0,l.m)(o,"deliveryNotes"),onChange:e=>{r(e.target.value)},textAreaProps:{name:"deliveryInstructions"},placeholder:"INHOME"===s?(0,l.m)(o,"inHomeNotesPlaceHolder"):(0,l.m)(o,"deliveryNotesPlaceHolder"),maxLength:250,value:n,UNSAFE_className:"mt3"})};var c=r(156055);const u=e=>{let{deliveryOption:n,setDeliveryOptions:r,showAmendsFields:s,isAlcohol:i=!1}=e;return(0,c.useEffect)(()=>{i&&r("MEET_AT_DOOR")},[i]),s?(0,a.jsx)("div",{className:"flex mb2",children:(0,a.jsx)(t.FormGroup,{label:(0,l.m)(o,"deliveryOptionsLabel"),UNSAFE_className:"w-100",children:(0,a.jsxs)(t.ChipGroup,{children:[(0,a.jsx)(t.Chip,{size:"large","aria-label":(0,l.m)(o,"leaveAtMyDoor"),selected:"LEAVE_AT_DOOR"===n,disabled:i,onClick:()=>{r("LEAVE_AT_DOOR")},children:(0,l.m)(o,"leaveAtMyDoor")},"LEAVE_AT_DOOR"),(0,a.jsx)(t.Chip,{size:"large","aria-label":(0,l.m)(o,"meetAtDoor"),selected:"MEET_AT_DOOR"===n,onClick:()=>{r("MEET_AT_DOOR")},children:(0,l.m)(o,"meetAtDoor")},"MEET_AT_DOOR")]})})}):null};var d=r(130096),m=r(199945);const p={FRONT_DOOR:(0,l.m)(o,"frontDoor"),BACK_DOOR:(0,l.m)(o,"backDoor"),SIDE_PORCH:(0,l.m)(o,"sidePorch"),GARAGE:(0,l.m)(o,"garage"),BUILDING_RECEPTION:(0,l.m)(o,"buildingReception"),MAILROOM_OR_PROPERTY_STAFF:(0,l.m)(o,"mailroom"),NO_PREFERENCE:(0,l.m)(o,"noPreference")},y={HOUSE:["FRONT_DOOR","BACK_DOOR","SIDE_PORCH","GARAGE","NO_PREFERENCE"],APARTMENT:["FRONT_DOOR","BUILDING_RECEPTION","MAILROOM_OR_PROPERTY_STAFF","NO_PREFERENCE"],BUSINESS:["FRONT_DOOR","BUILDING_RECEPTION","MAILROOM_OR_PROPERTY_STAFF","NO_PREFERENCE"],OTHER:["FRONT_DOOR","BACK_DOOR","SIDE_PORCH","BUILDING_RECEPTION","MAILROOM_OR_PROPERTY_STAFF","GARAGE","NO_PREFERENCE"]},f=e=>{let{propertyType:n,dropOffLocation:r,deliveryLocation:t,showInHomeSpecificOptions:s,setDropOffLocation:i}=e;var c;return!n||s&&t!==m.jD?null:(0,a.jsx)("div",{"aria-label":(0,l.m)(o,"dropOffDetailsFor",{pt:n}),children:(0,a.jsxs)("fieldset",{className:"b--none pa0 ma0",children:[(0,a.jsx)("legend",{children:(0,a.jsx)("div",{className:"f6 b",children:(0,l.m)(o,"dropoffLocation")})}),(0,a.jsx)("div",{className:"flex flex-column mt1",children:null===(c=y[n])||void 0===c?void 0:c.map(e=>{const t=p[e];return(0,a.jsx)(d.Z,{id:"".concat(n,"_").concat(e),checked:r===e,label:t,name:"".concat(n),onChange:()=>{i(e)},UNSAFE_className:"mv1"},"".concat(n,"_").concat(e))})})]})})},g=e=>{let{locationName:n,isActive:r,description:t}=e;return(0,a.jsxs)("div",{className:"flex flex-column",children:[(0,a.jsx)("div",{children:n}),r&&t&&(0,a.jsx)("div",{className:"f7 gray normal",children:t})]})},w={chamberlain:"myQ connected device",aladdinConnect:"Aladdin Connect",homebase:"Homebase",levelLock:"Level Lock"},v=e=>[{id:"doorStepLocationRadioBtn",keyName:m.jD,locationName:"Doorstep",description:(0,l.m)(o,"associateKnockMsg")},{id:"kitchenLocationRadioBtn",keyName:m.y2,locationName:"Kitchen",description:e&&"insideNoDevice"!==e?(0,l.m)(o,"useDeviceToEnter",{dn:e in w?w[e]:e}):""},{id:"garageLocationRadioBtn",keyName:m.Rt,locationName:"Garage",description:e&&"insideNoDevice"!==e?(0,l.m)(o,"useDeviceToEnter",{dn:e in w?w[e]:e}):""}],x=e=>{let{deliveryLocation:n,deviceName:r,setDeliveryLocation:t,setDropOffLocation:s}=e;return(0,a.jsxs)("fieldset",{className:"b--none pa0 ma0",children:[(0,a.jsx)("legend",{children:(0,a.jsx)("div",{className:"f6 b dark-gray",children:(0,l.m)(o,"whereToDeliver")})}),(0,a.jsx)("div",{className:"flex flex-column mt1",children:v(r||m.jD).map(e=>{let{id:r,locationName:l,description:o,keyName:i}=e;return(0,a.jsx)(d.Z,{id:r,name:"selectDeliveryLocation",onChange:()=>{i!==m.jD&&s(null),t(i)},checked:n===i,label:(0,a.jsx)(g,{locationName:l,isActive:n===i,description:o}),UNSAFE_className:"mv1"},r)})})]})};var E=r(543073);const L=[{id:"frontDoorRadioBtn",deviceLocationValue:m.Q3,locationName:(0,l.m)(o,"frontDoor")},{id:"backDoorRadioBtn",deviceLocationValue:m.$W,locationName:(0,l.m)(o,"backDoor")},{id:"sideDoorRadioBtn",deviceLocationValue:m.go,locationName:(0,l.m)(o,"sideDoor")},{id:"garageDoorRadioBtn",deviceLocationValue:m.XL,locationName:(0,l.m)(o,"garage")}],b=e=>{let{deviceName:n,deliveryLocation:r,deviceLocation:s,deviceAccessCode:i,isKeypadError:u,setDeviceLocation:p,setDeviceAccessCode:y}=e;const f=(r===m.y2||r===m.Rt)&&("keypad"===n||!n||"insideNoDevice"===n),[w,v]=c.useState(!0);return(0,a.jsx)("div",{children:f&&"keypad"===n&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("fieldset",{className:"b--none pa0 ma0 mt4",children:[(0,a.jsx)("legend",{children:(0,a.jsx)("div",{className:"f6 b dark-gray",children:(0,l.m)(o,"whereIsKeyPadMsg")})}),(0,a.jsx)("div",{className:"flex flex-column mt1",children:L.map(e=>{let{id:n,deviceLocationValue:r,locationName:t}=e;return(0,a.jsx)(d.Z,{id:n,name:"selectKeyPadLocation",onChange:()=>{p(r)},checked:"frontDoorRadioBtn"===n&&!s||s===r,label:(0,a.jsx)(g,{locationName:t}),UNSAFE_className:"mv1"},n)})})]}),(0,a.jsx)(t.TextField,{label:(0,l.m)(o,"enterKeyPadCodes"),onChange:e=>{y(e.target.value)},error:u&&!i&&(0,l.m)(o,"keypadRequiredField"),UNSAFE_className:"mt4",value:null!==i&&void 0!==i?i:"",textFieldProps:{maxLength:25,name:"keypadCode"},type:w?"password":"text",trailing:(0,a.jsx)("div",{style:{padding:"16px"},children:(0,a.jsx)(E.C,{onClick:()=>{v(e=>!e)},children:(0,l.m)(o,w?"show":"hide")})})})]})})},A=[{id:"stayInHomeRadioBtn",deviceNameValue:"insideNoDevice",locationName:(0,l.m)(o,"letThemInMsg"),description:(0,l.m)(o,"notAtHomeMsg")},{id:"keypadRadioBtn",deviceNameValue:"keypad",locationName:(0,l.m)(o,"enterWithMyKeyPad")}],S=e=>{let{deviceName:n,deliveryLocation:r,setDeviceName:t}=e;return(r===m.y2||r===m.Rt)&&("keypad"===n||!n||"insideNoDevice"===n)?(0,a.jsxs)("fieldset",{className:"b--none pa0 ma0 mt4",children:[(0,a.jsx)("legend",{children:(0,a.jsx)("div",{className:"f6 b dark-gray",children:(0,l.m)(o,"accessMethodMsg")})}),(0,a.jsx)("div",{className:"flex flex-column mt1",children:A.map(e=>{let{id:r,deviceNameValue:l,locationName:o,description:s}=e;return(0,a.jsx)(d.Z,{id:r,name:"selectAccessMethod",onChange:()=>{t(l)},checked:n===l,label:(0,a.jsx)(g,{locationName:o,isActive:n===l,description:s}),UNSAFE_className:"mv1"},r)})})]}):null},h=e=>{let{formData:n,formActions:r,showInHomeSpecificOptions:l}=e;const{currentPreferences:o,isKeypadError:s}=n,{setDeliveryLocation:i,setDeviceName:c,setDeviceLocation:u,setDeviceAccessCode:d,setDropOffLocation:m}=r;return l?(0,a.jsxs)("div",{children:[(0,a.jsx)(t.Divider,{UNSAFE_className:"mv4"}),(0,a.jsx)(x,{deliveryLocation:null===o||void 0===o?void 0:o.deliveryLocation,deviceName:null===o||void 0===o?void 0:o.deviceName,setDeliveryLocation:i,setDropOffLocation:m}),(0,a.jsx)(S,{deliveryLocation:null===o||void 0===o?void 0:o.deliveryLocation,deviceName:null===o||void 0===o?void 0:o.deviceName,setDeviceName:c}),(0,a.jsx)(b,{deviceName:null===o||void 0===o?void 0:o.deviceName,deliveryLocation:null===o||void 0===o?void 0:o.deliveryLocation,deviceLocation:null===o||void 0===o?void 0:o.deviceLocation,deviceAccessCode:null===o||void 0===o?void 0:o.deviceAccessCode,isKeypadError:s,setDeviceLocation:u,setDeviceAccessCode:d}),(0,a.jsx)(t.Divider,{UNSAFE_className:"mv4"})]}):null},F=e=>{let{propertyType:n,setPropertyType:r,setDropOffLocation:s}=e;const i={HOUSE:(0,l.m)(o,"house"),APARTMENT:(0,l.m)(o,"apartment"),BUSINESS:(0,l.m)(o,"business"),OTHER:(0,l.m)(o,"other")};return(0,a.jsxs)("div",{className:"flex mb2",children:[(0,a.jsx)(t.FormGroup,{label:(0,l.m)(o,"propertyTypeLabel"),UNSAFE_className:"w-100",children:(0,a.jsx)(t.ChipGroup,{children:["HOUSE","APARTMENT","BUSINESS","OTHER"].map(e=>(0,a.jsx)(t.Chip,{size:"large","aria-label":i[e],selected:e===n,onClick:()=>{e!==n&&s(null),r(e)},children:i[e]},e))})}),n&&(0,a.jsx)(t.Button,{onClick:()=>{r(null),s(null)},variant:"tertiary",UNSAFE_className:"ph0",UNSAFE_style:{height:"20px",float:"right",width:0,right:"20px",position:"relative"},children:(0,l.m)(o,"clear")})]})},C=e=>{let{formData:n,formActions:r,isError:c,showInHomeSpecificOptions:d,showAmendsFields:m,isAlcohol:p}=e;const{currentPreferences:y,instructionType:g}=n,{setPropertyType:w,setGateCode:v,setDeliveryNotes:x,setDeliveryOptions:E,setDropOffLocation:L}=r;return(0,a.jsxs)("form",{id:"guidedDeliveryInstructionForm",children:[c&&(0,a.jsx)("div",{className:"mb3",children:(0,a.jsx)(t.Alert,{variant:"warning",role:"alert",children:(0,a.jsx)("div",{className:"f6",children:(0,l.m)(o,"errorMsg")})})}),d&&(0,a.jsx)("div",{className:"f7 gray normal mb2",children:(0,l.m)(o,"requiredField")}),(0,a.jsx)(u,{deliveryOption:null===y||void 0===y?void 0:y.deliveryOption,setDeliveryOptions:E,showAmendsFields:m,isAlcohol:p}),(0,a.jsx)(F,{propertyType:(null===y||void 0===y?void 0:y.propertyType)||null,setPropertyType:w,setDropOffLocation:L}),(0,a.jsx)(s,{gateCode:null===y||void 0===y?void 0:y.gateCode,setGateCode:v}),(0,a.jsx)(h,{formData:n,formActions:r,showInHomeSpecificOptions:d}),(0,a.jsx)(i,{deliveryNotes:null===y||void 0===y?void 0:y.deliveryNotes,setDeliveryNotes:x,instructionType:g}),(0,a.jsx)(f,{propertyType:(null===y||void 0===y?void 0:y.propertyType)||null,dropOffLocation:null===y||void 0===y?void 0:y.dropOffLocation,deliveryLocation:null===y||void 0===y?void 0:y.deliveryLocation,showInHomeSpecificOptions:d,setDropOffLocation:L})]})}},334244:function(e,n,r){r.d(n,{S:function(){return l}});var a=r(156055),t=r(199945);const l=e=>{let{currentPreferences:n,deliveryAddress:r,instructionType:l}=e;const{0:o,1:s}=(0,a.useState)(null===n||void 0===n?void 0:n.deliveryOption),{0:i,1:c}=(0,a.useState)((null===n||void 0===n?void 0:n.propertyType)||null),{0:u,1:d}=(0,a.useState)(null===n||void 0===n?void 0:n.gateCode),{0:m,1:p}=(0,a.useState)((null===n||void 0===n?void 0:n.deliveryNotes)||""),{0:y,1:f}=(0,a.useState)(null===n||void 0===n?void 0:n.dropOffLocation),{0:g,1:w}=(0,a.useState)((null===n||void 0===n?void 0:n.deliveryLocation)||null),{0:v,1:x}=(0,a.useState)(null===n||void 0===n?void 0:n.deviceLocation),{0:E,1:L}=(0,a.useState)(null===n||void 0===n?void 0:n.deviceAccessCode),{0:b,1:A}=(0,a.useState)((null===n||void 0===n?void 0:n.deviceName)||"insideNoDevice"),{0:S,1:h}=(0,a.useState)(!1),{0:F,1:C}=(0,a.useState)(!1);return{gdiState:{currentPreferences:{deliveryOption:o,propertyType:i,gateCode:u,deliveryNotes:m,dropOffLocation:y,deliveryLocation:g,deviceLocation:v,deviceAccessCode:E,deviceName:b},deliveryAddress:r,instructionType:l,isError:S,isKeypadError:F},gdiActions:{setDeliveryOptions:s,setPropertyType:c,setGateCode:d,setDeliveryNotes:p,setDropOffLocation:f,setDeliveryLocation:w,setDeviceLocation:x,setDeviceAccessCode:L,setDeviceName:A,setIsError:h,setIsKeypadError:C,isValidForm:()=>g!==t.y2&&g!==t.Rt||"keypad"!==b||E?(C(!1),!0):(C(!0),!1)}}}},199945:function(e,n,r){r.d(n,{$W:function(){return s},Q3:function(){return o},Rt:function(){return l},XL:function(){return c},go:function(){return i},jD:function(){return a},y2:function(){return t}});const a="DOORSTEP",t="KITCHEN",l="GARAGE",o="FRONT_DOOR",s="BACK_DOOR",i="SIDE_DOOR",c="GARAGE_DOOR"},189014:function(e,n,r){r.d(n,{HI:function(){return c},Hs:function(){return u},P9:function(){return d},Qe:function(){return x},RC:function(){return v},SA:function(){return o},UF:function(){return w},Zj:function(){return t},cW:function(){return p},lK:function(){return i},m6:function(){return l},rZ:function(){return g},ro:function(){return m},sZ:function(){return a},tu:function(){return f},wq:function(){return y}});const a=22,t=5,l=19,o={mapTypeControl:!1,scaleControl:!0,streetViewControl:!1,rotateControl:!1,fullscreenControl:!1,clickableIcons:!1,zoom:l,disableDefaultUI:!0};var s;!function(e){e.INCOMPLETE="incomplete",e.SUCCESS="success"}(s||(s={}));const i="//i5.walmartimages.com/dfw/63fd9f59-c258/5011bc7a-79d1-43be-9604-eabbc2ad0f5b/v1/location_marker.svg",c="//i5.walmartimages.com/dfw/63fd9f59-690f/931edcdc-0ccb-4788-b00d-159748bd03fc/v1/up-icon.png",u="//i5.walmartimages.com/dfw/63fd9f59-690f/931edcdc-0ccb-4788-b00d-159748bd03fc/v1/left-icon.png",d="//i5.walmartimages.com/dfw/63fd9f59-690f/931edcdc-0ccb-4788-b00d-159748bd03fc/v1/down-icon.png",m="//i5.walmartimages.com/dfw/63fd9f59-690f/931edcdc-0ccb-4788-b00d-159748bd03fc/v1/right-icon.png",p=45,y=79,f=54,g=94,w="//i5.walmartimages.com/dfw/63fd9f59-7ee7/35843c61-ccd1-43bf-8d87-631716139b16/v1/ZoomIn@3x.png",v="//i5.walmartimages.com/dfw/63fd9f59-7ee7/35843c61-ccd1-43bf-8d87-631716139b16/v1/ZoomOut@3x.png",x="//i5.walmartimages.com/dfw/63fd9f59-690f/931edcdc-0ccb-4788-b00d-159748bd03fc/v1/current-location.png"},961956:function(e,n,r){r.d(n,{Dp:function(){return o},M8:function(){return i},gc:function(){return s}});var a=r(575115),t=r(412640),l=r(189014);const o=(e,n)=>new Promise((r,a)=>{var t;if(null===(t=window.google)||void 0===t?void 0:t.maps)return void r(null);const l=document.createElement("script");l.src="https://maps.googleapis.com/maps/api/js?key=".concat(e,"&libraries=geometry"),l.async=!0,l.nonce=n,l.addEventListener("error",e=>{a(e)}),l.addEventListener("load",()=>{r(null)}),document.head.appendChild(l)}),s=e=>{let{map:n,latLong:r,setIsDefaultLatLong:a,setCurrentZoom:t}=e;return{resetLocation:()=>{n&&r&&(n.setCenter(r),n.setZoom(l.m6),a(!0),t(l.m6))}}},i=e=>{const n={bottom:"40px",boxShadow:"0px 5px 10px 3px rgba(0, 0, 0, 0.15)"};let r="12px",l="18px",o=0,s=0,i="";return"upKey"===e?(n.left="60px",n.bottom="90px",s=-20,i=(0,a.m)(t,"moveUp")):"leftKey"===e?(n.left="10px",r="18px",l="13px",o=-20,i=(0,a.m)(t,"moveLeft")):"downKey"===e?(n.left="60px",s=20,i=(0,a.m)(t,"moveDown")):"rightKey"===e&&(n.left="110px",r="18px",l="13px",o=20,i=(0,a.m)(t,"moveRight")),{cssStyles:n,arrowWidth:r,arrowHeight:l,movementX:o,movementY:s,arrowKeyLabel:i}}},428799:function(e,n,r){r.d(n,{e:function(){return c}});var a=r(577427),t=r(271492),l=r(251956),o=r(156055),s=r(189014),i=r(961956);const c=e=>{let{deliveryAddressData:n,latLongData:r}=e;const{nonce:c}=(0,l.d9)(),{gooleMapAPIKey:u}=(0,a.N)(),{0:d,1:m}=(0,o.useState)(!1),{0:p,1:y}=(0,o.useState)(!1),f=u,{0:g,1:w}=(0,o.useState)(),{0:v,1:x}=(0,o.useState)(),{0:E,1:L}=(0,o.useState)(!0),{0:b,1:A}=(0,o.useState)(s.m6),{0:S,1:h}=(0,o.useState)(!1),{0:F,1:C}=(0,o.useState)(!1),{0:V,1:I}=(0,o.useState)(0),{0:N,1:j}=(0,o.useState)(!1),{0:D,1:P}=(0,o.useState)({lat:(null===r||void 0===r?void 0:r.lat)||0,lng:(null===r||void 0===r?void 0:r.lng)||0,pinLatLongSource:(null===r||void 0===r?void 0:r.pinLatLongSource)||"UNKNOWN"}),M=!(null===r||void 0===r?void 0:r.lat)&&!(null===r||void 0===r?void 0:r.lng),_={addressLineOne:(null===n||void 0===n?void 0:n.addressLineOne)||"",city:(null===n||void 0===n?void 0:n.city)||"",state:(null===n||void 0===n?void 0:n.state)||"",zipCode:(null===n||void 0===n?void 0:n.zipCode)||""};return(0,o.useEffect)(()=>{f&&c&&!d&&(0,i.Dp)(f,c).then(()=>{m(!0)}).catch(e=>{(0,t.cM)(["error","account","google-maps-api"],{type:"log",message:e}),y(!0)})},[f,c,d]),{pinDropState:{selectedLatLong:v,map:g,isMapInitialized:d,isDefaultLatLong:E,currentZoom:b,showGeoFencingError:S,errorStatus:p,pinDropAddress:_,pinDropLatLong:D,adaToggle:F,numberOfRetries:V,enablePinCall:M,showMap:N},pinDropActions:{setSelectedLatLong:x,setMap:w,setIsDefaultLatLong:L,setCurrentZoom:A,setShowGeoFencingError:h,setErrorStatus:y,setAdaToggle:C,setPinDropLatLongData:P,getPinDropCoordinate:()=>{const e=null===g||void 0===g?void 0:g.getCenter();return e?{lat:null===e||void 0===e?void 0:e.lat(),lng:null===e||void 0===e?void 0:e.lng(),pinLatLongSource:E?null===D||void 0===D?void 0:D.pinLatLongSource:"CUSTOMER_PIN"}:(null===D||void 0===D?void 0:D.lat)&&(null===D||void 0===D?void 0:D.lng)?D:void 0},setIsMapInitialized:m,setNumberOfRetries:I,setShowMap:j}}}},156347:function(e,n,r){r.d(n,{x:function(){return P}});var a=r(390239),t=r(964226),l=r(978522);const o={type:"query",name:"GetPinLatLong",query:"query GetPinLatLong($input:PinLatLongInput!){pinLatLong(input:$input){pin{pinLat pinLong pinLatLongSource}errors{code message}}}",hash:"7b22a0c308f392838f1282e0e9661c28bd792aa8af283c9220a068aa55e00644"},s=(e,n)=>{const r=(a=(0,t.Z)(),{queryKey:["get-pin-drop-lat-long",s={input:e}],queryFn:()=>a.getGqlFetch()(o,s)});var a,s;const{data:i,error:c,isFetching:u,refetch:d}=(0,l.a)({...r,config:{enabled:n}});return{error:(null===i||void 0===i?void 0:i.errors)||c,isFetching:u,data:null===i||void 0===i?void 0:i.data,refetch:d}};var i=r(107401),c=r(156055),u=r(575115),d=r(412640),m=r(234811),p=r(543073);const y=e=>{let{showGeoFencingError:n,setShowGeoFencingError:r,resetLocation:t}=e;return n?(0,a.jsx)("div",{className:"mb3",children:(0,a.jsxs)(m.Alert,{variant:"warning",role:"alert",children:[(0,a.jsx)("div",{className:"f6",children:(0,u.m)(d,"geoErrorText")}),(0,a.jsx)("div",{children:(0,a.jsx)(p.C,{onClick:()=>{t(),r(!1)},"aria-label":"reset pin",children:(0,u.m)(d,"geoErrorBtn")})})]})}):null};var f=r(961956),g=r(295368);const w=e=>{let{isDriverText:n,refetch:r,numberOfRetries:t,setNumberOfRetries:l}=e;const{isMobile:o}=(0,i.vP)(),s=o?200:400,c=0===t;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex items-center justify-center flex-column w-100 pv3 mt2 b--solid b--light-gray br3 shadow-3 justify-center",style:{height:s},children:c?(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"f6",children:(0,u.m)(d,"retryText")}),(0,a.jsx)(g.Z,{variant:"primary",isFullWidth:!0,name:(0,u.m)(d,"tryAgain"),onClick:()=>{0===t&&(null===r||void 0===r||r(),l(t+1))},children:(0,u.m)(d,"tryAgain")})]}):(0,a.jsx)("div",{children:(0,u.m)(d,"errorText")})}),(0,a.jsx)("div",{className:"f7 pt2",children:(0,u.m)(d,"disclaimerText",{isDriver:n})})]})};var v=r(603868);const x=e=>{let{isDriverText:n}=e;const{isMobile:r}=(0,i.vP)(),t=r?200:400;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-center flex-column w-100 pv3 mt2 b--solid b--light-gray br3 shadow-3 justify-center",style:{height:t},children:[(0,a.jsx)("div",{className:"mb2",children:(0,a.jsx)(v.$,{color:"gray",size:"large",a11yLabel:(0,u.m)(d,"loadingText")})}),(0,a.jsx)("div",{className:"f6",children:(0,u.m)(d,"loadingText")})]}),(0,a.jsx)("div",{className:"f7 pt2",children:(0,u.m)(d,"disclaimerText",{isDriver:n})})]})};var E=r(577427),L=r(992512),b=r(803528),A=r(189014);const S=e=>{let{map:n,adaToggle:r,setAdaToggle:t}=e;return n?(0,a.jsx)("div",{className:"absolute br3",id:"settings_Accessibility",style:{right:"20px",top:"20px",boxShadow:"0px 5px 10px 3px rgb(0 0 0 / 15%)"},children:(0,a.jsx)("button",{className:"bg-white flex justify-center items-center b--none br--top br3 pointer",style:{width:"48px",height:"48px"},onClick:()=>{t(!r)},"aria-label":"accessibility toggle",children:(0,a.jsx)(b.Z,{src:A.Qe,width:21,height:21,preload:!0,alt:""})})}):null},h=e=>{let{map:n,arrowKeyUrl:r,arrowKeyType:t,testId:l}=e;const{cssStyles:o,arrowWidth:s,arrowHeight:i,movementX:c,movementY:u,arrowKeyLabel:d}=(0,f.M8)(t),m=(null===n||void 0===n?void 0:n.getZoom())||1,p=m/A.m6*c,y=m/A.m6*u;return(0,a.jsx)("div",{className:"absolute br3","data-testid":"reset-btn",id:l,style:o,children:(0,a.jsx)("button",{"data-testid":t,className:"bg-white flex justify-center items-center b--none br3 pointer",style:{width:"48px",height:"48px",borderBottom:"1px solid #F1F1F2"},"aria-label":d,onClick:()=>null===n||void 0===n?void 0:n.panBy(p,y),children:(0,a.jsx)(b.Z,{src:r,width:s,height:i,preload:!0,alt:t})})})};var F=r(235077);const C=e=>{let{map:n,latLong:r,setIsDefaultLatLong:t,setCurrentZoom:l}=e;const{resetLocation:o}=(0,f.gc)({map:n,latLong:r,setIsDefaultLatLong:t,setCurrentZoom:l}),s=(0,F.wG)();if(!n)return null;return(0,a.jsx)("div",{className:"absolute br3","data-testid":"reset-btn",id:"reset_Accessibility",style:{right:"20px",top:"68px",boxShadow:"0px 5px 10px 3px rgb(0 0 0 / 15%)"},children:(0,a.jsx)("button",{className:"bg-white flex justify-center items-center b--none br--bottom br3 pointer",style:{width:"48px",height:"48px"},onClick:()=>{s({context:"checkout",action:"onClick",name:"recenter",payload:{id:{id:"1234"},ta:{pt:"pinDrop"}}}),o()},"aria-label":(0,u.m)(d,"resetLocation"),children:(0,a.jsx)(b.Z,{src:A.Qe,width:21,height:21,preload:!0,alt:""})})})},V=e=>{let{map:n,currentZoom:r,setCurrentZoom:t}=e;const{isMobile:l}=(0,i.vP)();return n?(0,a.jsxs)("div",{className:"absolute flex flex-row br3",style:{right:l?"16px":"12px",bottom:"40px",boxShadow:"0px 5px 10px 3px rgba(0, 0, 0, 0.15)"},children:[(0,a.jsx)("button",{"data-testid":"zoom-in",className:"bg-white flex justify-center items-center b--none br--left br3 pointer",style:{width:"48px",height:"48px",borderBottom:"1px solid #F1F1F2",backgroundColor:r+1>=A.sZ?"#909196":"#ffffff"},onClick:()=>{const e=n.getZoom();e&&e+1<A.sZ&&(n.setZoom(e+1),t(e+1))},"aria-label":(0,u.m)(d,"zoomIn"),"aria-disabled":r+1>=A.sZ,children:(0,a.jsx)(b.Z,{src:A.UF,width:13.5,height:13.5,preload:!0,alt:(0,u.m)(d,"zoomIn")})}),(0,a.jsx)("button",{"data-testid":"zoom-out",className:"bg-white flex justify-center items-center b--none br--right br3 pointer",style:{width:"48px",height:"48px",backgroundColor:r-1<=A.Zj?"#909196":"#ffffff"},onClick:()=>{const e=n.getZoom();e&&e-1>A.Zj&&(n.setZoom(e-1),t(e-1))},"aria-label":(0,u.m)(d,"zoomOut"),"aria-disabled":r-1<=A.Zj,children:(0,a.jsx)(b.Z,{src:A.RC,width:13.5,height:1.5,preload:!0,alt:(0,u.m)(d,"zoomOut")})})]}):null},I=e=>{let{pinDropState:n,pinDropActions:r}=e;const{map:t,adaToggle:l,pinDropLatLong:o,currentZoom:s}=n,{setAdaToggle:i,setCurrentZoom:c,setIsDefaultLatLong:u}=r,d=()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{children:(0,a.jsx)(h,{map:t,arrowKeyUrl:A.HI,arrowKeyType:"upKey",testId:"map_up_arrow"})}),(0,a.jsxs)("div",{className:"flex flex-row",children:[(0,a.jsx)(h,{map:t,arrowKeyUrl:A.Hs,arrowKeyType:"leftKey",testId:"map_left_arrow"}),(0,a.jsx)(h,{map:t,arrowKeyUrl:A.P9,arrowKeyType:"downKey",testId:"map_down_arrow"}),(0,a.jsx)(h,{map:t,arrowKeyUrl:A.ro,arrowKeyType:"rightKey",testId:"map_right_arrow"})]})]});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(S,{map:t,adaToggle:l,setAdaToggle:i}),(0,a.jsx)(C,{map:t,latLong:o,setIsDefaultLatLong:u,setCurrentZoom:c}),l&&(0,a.jsx)(d,{}),l&&(0,a.jsx)(V,{map:t,currentZoom:s,setCurrentZoom:c})]})},N=e=>{let{mapOptions:n={},resetMap:r=!1,pinDropState:t,pinDropActions:l}=e;const{map:o,isMapInitialized:s,pinDropLatLong:p}=t,{setMap:y,setShowGeoFencingError:f,setIsDefaultLatLong:g}=l,{geoFenceRadiusInMeter:w}=(0,E.N)(),{isMobile:v}=(0,i.vP)(),x=v?A.rZ:A.wq,S=v?A.tu:A.cW,h=(0,c.useRef)(null),F=(0,c.useRef)(null);return(0,c.useEffect)(()=>{if(!h.current||!s)return;const e=new google.maps.Map(h.current,{...A.SA,...n,center:p});y(e)},[r]),(0,c.useEffect)(()=>{if(o||!h.current||!s)return;const e=new google.maps.Map(h.current,{...A.SA,...n,center:p});y(e)},[o,y,s,p]),(0,c.useEffect)(()=>{(null===p||void 0===p?void 0:p.lat)&&(null===p||void 0===p?void 0:p.lng)&&o&&(o.setCenter(p),o.addListener("center_changed",()=>{const e=o.getCenter();if(e){g(!1);const n=google.maps.geometry.spherical.computeDistanceBetween(new google.maps.LatLng(p),e);f(n>w)}}))},[p,o]),(0,a.jsxs)("div",{className:"relative",style:{height:"520px"},children:[(0,a.jsx)("div",{"aria-hidden":!0,className:"w-100 h-100 br3-m br0",id:"map_ui_container",ref:h}),s&&(0,a.jsx)("div",{"data-testid":"custom-marker",className:"absolute",style:{top:"calc(50% - 12px)",left:"50%",transform:"translate(-50%, -50%)"},children:(0,a.jsx)(m.Callout,{a11yContentLabel:(0,u.m)(d,"callOutText"),isOpen:!0,position:"topCenter",onClose:L.Z,closeButtonProps:{style:{display:"none"}},UNSAFE_style:{textAlign:"center"},trigger:(0,a.jsx)(b.Z,{ref:F,src:A.lK,width:S,height:x,alt:"",preload:!0,tabIndex:0,onClick:L.Z}),triggerRef:F,children:(0,u.m)(d,"callOutText")})}),(0,a.jsx)(I,{pinDropState:t,pinDropActions:l})]})};var j=e=>{let{pinDropState:n,pinDropActions:r,resetMap:t=!1,isDriverText:l=!1,isFetching:o,refetch:s}=e;const{isMobile:c}=(0,i.vP)(),{map:m,pinDropAddress:p,pinDropLatLong:g,showGeoFencingError:v,isMapInitialized:E,errorStatus:L,numberOfRetries:b}=n,{setShowGeoFencingError:A,setIsDefaultLatLong:S,setCurrentZoom:h,setNumberOfRetries:F}=r,{resetLocation:C}=(0,f.gc)({latLong:g,map:m,setIsDefaultLatLong:S,setCurrentZoom:h}),{addressLineOne:V,city:I,state:j,zipCode:D}=p,P="".concat(V,", ").concat(I,", ").concat(j," ").concat(D),M=()=>(0,a.jsxs)("div",{className:"mt4",children:[(0,a.jsx)("div",{className:"f6 b pb1",children:(0,u.m)(d,"header")}),(0,a.jsx)("div",{className:"f6 pb2",children:P})]}),_=()=>(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"f7 pb1",children:(0,u.m)(d,"mwebHeader")}),(0,a.jsx)("div",{className:"f7 pb3",children:P})]});return L?(0,a.jsx)(w,{isDriverText:l,refetch:s,numberOfRetries:b,setNumberOfRetries:F}):!E&&!c||o?(0,a.jsx)(x,{isDriverText:l}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y,{showGeoFencingError:v,setShowGeoFencingError:A,resetLocation:C}),c?(0,a.jsx)(_,{}):(0,a.jsx)(M,{}),(0,a.jsx)(N,{pinDropState:n,pinDropActions:r,resetMap:t}),!c&&(0,a.jsx)("div",{className:"f7 pt2",children:(0,u.m)(d,"disclaimerText",{isDriver:l})})]})};const D=e=>{let{pinDropState:n,pinDropActions:r,isDriverText:t=!1,isFetching:l,refetch:o}=e;const{gooleMapAPIKey:s}=(0,E.N)(),{pinDropLatLong:i,isMapInitialized:m,showMap:p,numberOfRetries:y,errorStatus:f}=n,{setShowMap:v,setNumberOfRetries:S}=r,h=(0,c.useRef)(null);return p?null:f?(0,a.jsx)(w,{isDriverText:t,refetch:o,numberOfRetries:y,setNumberOfRetries:S}):!m||l?(0,a.jsx)(x,{isDriverText:t}):(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between pv3",children:[(0,a.jsx)("div",{className:"f6 b pb1 mt1",children:(0,u.m)(d,"header")}),(0,a.jsx)(g.Z,{variant:"secondary",id:"adjust_Pin_entry_button",onClick:()=>{v(!0)},"aria-label":(0,u.m)(d,"adjustPin"),children:(0,u.m)(d,"adjustPin")})]}),(0,a.jsxs)("div",{className:"relative w-100",children:[(0,a.jsx)(b.Z,{ref:h,width:"100%",height:160,src:"https://maps.googleapis.com/maps/api/staticmap?center=".concat(null===i||void 0===i?void 0:i.lat,",").concat(null===i||void 0===i?void 0:i.lng,"&zoom=18&size=343x180&key=").concat(s),alt:"",preload:!0,tabIndex:0,onClick:L.Z}),(0,a.jsx)("div",{"data-testid":"custom-marker",className:"absolute",style:{top:"calc(50% - 12px)",left:"50%",transform:"translate(-50%, -50%)"},children:(0,a.jsx)(b.Z,{ref:h,src:A.lK,width:47,height:79,alt:"",preload:!0,tabIndex:0,onClick:L.Z})})]}),(0,a.jsx)("div",{className:"f7 pt2",children:(0,u.m)(d,"disclaimerText",{isDriver:t})})]})},P=e=>{let{pinDropState:n,pinDropActions:r,isDriverText:t=!1}=e;const{isMobile:l}=(0,i.vP)(),{pinDropLatLong:o,pinDropAddress:u,enablePinCall:d,showMap:m}=n,{setPinDropLatLongData:p,setErrorStatus:y,setIsDefaultLatLong:f}=r,{data:g,error:w,isFetching:v,refetch:x}=s(u,d);return(0,c.useEffect)(()=>{var e;if(!d)return;w&&y(!0);const n=!(null===o||void 0===o?void 0:o.lat)&&!(null===o||void 0===o?void 0:o.lng);if((null===g||void 0===g||null===(e=g.pinLatLong)||void 0===e?void 0:e.pin)&&n){const{pinLat:e,pinLong:n,pinLatLongSource:r}=g.pinLatLong.pin;p({lat:e,lng:n,pinLatLongSource:r}),f(!1),y(!1)}}),(0,a.jsxs)(a.Fragment,{children:[l&&(0,a.jsx)(D,{pinDropState:n,pinDropActions:r,isDriverText:t,isFetching:v,refetch:x}),(!l||m)&&(0,a.jsx)(j,{pinDropState:n,pinDropActions:r,resetMap:m,isDriverText:t,isFetching:v,refetch:x})]})}}}]);